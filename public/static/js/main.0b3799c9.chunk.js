(this["webpackJsonpimage-package-manager"]=this["webpackJsonpimage-package-manager"]||[]).push([[0],{268:function(e,a){e.exports="data:image/png;base64,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"},493:function(e,a,t){e.exports=t.p+"static/media/default.4cbe1365.jpg"},520:function(e,a,t){e.exports=t(756)},549:function(e,a,t){},571:function(e,a){},573:function(e,a){},738:function(e,a,t){},755:function(e,a,t){},756:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(20),o=t.n(c),i=t(26),s=t(487),l=t.n(s),u=function(e){return"getPackageById-".concat(e)},m=function(e){return"getPackagePostsById-".concat(e)},d=function(e){return l.a.lookup(e.name)},p=[{name:"Topo esquerda",value:0},{name:"Topo direita",value:1},{name:"Centro",value:2},{name:"Baixo esquerda",value:3},{name:"Baixo Direita",value:4}],f=[{value:"0",label:"Consultora"},{value:"1",label:"Diretora"}],g=[{value:"0",label:"Instagram"},{value:"1",label:"Celular"}],b=t(40),h=t(29),v=t(9),E=t.n(v),x=t(17),O=t(19),k=t(21),j=t(331),y=t(783),w=t(115),C=t(411),N=t(412),S=t(255),L=function(){var e=Object(S.b)(),a=e.enqueueSnackbar,t=e.closeSnackbar;return{success:function(e,n){var r=a(e,Object(O.a)({variant:"success",onClick:function(){t(r)}},n))},warning:function(e,n){var r=a(e,Object(O.a)({variant:"warning",onClick:function(){t(r)}},n))},error:function(e,n){var r=a(e,Object(O.a)({variant:"error",onClick:function(){t(r)}},n))},info:function(e,n){var r=a(e,Object(O.a)({variant:"info",onClick:function(){t(r)}},n))}}},P=t(291),R=t.n(P),A=t(488),I=t.n(A),T=t(100),F=t.n(T),_={urlAPI:"".concat("https://app.artesup.com.br","/api"),authAPI:"".concat("https://app.artesup.com.br","/auth")},z=F.a.create({baseURL:_.authAPI,headers:{Accept:"application/json"}}),V=function(){var e=function(){R.a.remove("Token")};return{login:function(){var e=Object(x.a)(E.a.mark((function e(a){var t,n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.email,n=a.password,e.next=3,z.post("/login",{email:t,password:n});case 3:return r=e.sent,c=r.data,o=c.token,R.a.set("Token",o),e.abrupt("return",c.token);case 7:case"end":return e.stop()}var o}),e)})));return function(a){return e.apply(this,arguments)}}(),logout:e,authSession:function(){var a=R.a.get("Token");return a&&function(e){try{var a=I()(e),t=Math.round(Date.now()/1e3);return a.exp>t}catch(n){return!1}}(a)?a:(e(),"")}}},D=V(),B=r.a.createContext({session:D.authSession(),authSession:D.authSession,login:function(){return console.error("AuthenticationProvider not configurated!"),Promise.resolve()},logout:function(){console.error("AuthenticationProvider not configurated!")}}),M=Object(j.a)({root:{minWidth:275},logo:{width:100,height:100,borderRadius:"50%"}}),W=function(){var e=M(),a=Object(n.useContext)(B),t=a.authSession,c=a.login,o=L(),i=Object(n.useState)(!1),s=Object(k.a)(i,2),l=s[0],u=s[1],m=Object(n.useState)({email:"",password:""}),d=Object(k.a)(m,2),p=d[0],f=d[1],g=Object(b.g)(),h=function(){var e=Object(x.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,u(!0),e.next=5,c(p);case 5:g.push("/packages"),o.success("Logado com sucesso!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),o.error("Erro ao fazer o login.");case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(a){return e.apply(this,arguments)}}();return t()?r.a.createElement(b.a,{to:"/packages"}):r.a.createElement("form",{className:"d-flex justify-content-center min-h-100 align-items-center ",noValidate:!0,onSubmit:h,autoComplete:"off"},r.a.createElement(y.a,{className:"".concat(e.root," d-flex flex-column justify-content-center align-items-center ")},r.a.createElement(w.a,{className:"mt-4",variant:"h4"},"Gerenciador"),r.a.createElement(w.a,{className:"mb-4",variant:"h4"},"de Imagem"),r.a.createElement(C.a,{onChange:function(e){var a=e.target.value;f((function(e){return Object(O.a)(Object(O.a)({},e),{},{email:a})}))},label:"E-mail",variant:"outlined"}),r.a.createElement(C.a,{onChange:function(e){var a=e.target.value;f((function(e){return Object(O.a)(Object(O.a)({},e),{},{password:a})}))},label:"Senha",className:"mt-3",type:"password",variant:"outlined"}),r.a.createElement(N.a,{disabled:l,type:"submit",color:"primary",className:"my-4",variant:"contained"},"Entrar")))},G=function(){return r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/login",component:W}))},H=t(102),Y=t(268),q=t.n(Y),J=function(){var e=L(),a=Object(b.g)(),t=Object(n.useContext)(B).logout;return r.a.createElement("div",{className:"d-flex justify-content-between align-items-center header p-3",style:{color:"#fff",backgroundColor:"rgba(0,0,0, 1)"}},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("img",{src:q.a}),r.a.createElement(w.a,{className:"ml-2",variant:"h5"},"Gerenciador de Pacotes")),r.a.createElement("nav",null,r.a.createElement(h.b,{className:"mr-4",to:"/purchases"},"Vendas"),r.a.createElement(h.b,{className:"mr-4",to:"/packages"},"Pacotes"),r.a.createElement(h.b,{className:"mr-4",to:"/categories"},"Categorias"),r.a.createElement(h.b,{to:"",onClick:function(){t(),a.push("/"),e.success("Logout feito com sucesso!")}},"Logout")))},Q=function(e){var a=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"w-100"},a)))},K=function(e){var a=e.component,t=Object(H.a)(e,["component"]),c=Object(n.useContext)(B).authSession;return r.a.createElement(b.b,Object.assign({},t,{render:function(e){return c()?r.a.createElement(Q,null,r.a.createElement(a,e)):r.a.createElement(b.a,{to:"/login"})}}))},U=t(786),Z=t(787),X=(t(549),t(785));function $(e){var a=e.name,t=e.description,n=e.isPublished,c=e.onEdit,o=e.onRemove,i=e.onPublish;return r.a.createElement(y.a,{className:"h-100 package-card"},r.a.createElement(X.a,{className:"h-100 d-flex flex-column justify-content-between"},r.a.createElement("div",null,r.a.createElement(w.a,{variant:"h6"},a),r.a.createElement(w.a,{className:"mt-2",variant:"body1"},t)),i&&n&&r.a.createElement(w.a,{variant:"body2",className:"font-italic mt-3"},"Publicado"),r.a.createElement(U.a,{container:!0,spacing:1,className:"mt-3"},i&&!n&&r.a.createElement(U.a,{item:!0,xs:12,sm:4,md:4,lg:4},r.a.createElement(N.a,{onClick:i,className:"w-100",variant:"contained",color:"primary"},"Publicar")),r.a.createElement(U.a,{item:!0,xs:12,sm:4,md:4,lg:4},r.a.createElement(N.a,{onClick:c,className:"w-100",variant:"contained",color:"secondary"},"Editar")),r.a.createElement(U.a,{item:!0,xs:12,sm:4,md:4,lg:4},r.a.createElement(N.a,{onClick:o,className:"red-button w-100",variant:"contained"},"Remover")))))}var ee=t(413),ae=function(){return r.a.createElement(Z.a,{className:"d-flex justify-content-center align-items-center h-500"},r.a.createElement(ee.a,{color:"primary"}))},te=t(797);function ne(){return r.a.createElement(Z.a,{className:"d-flex flex-column justify-content-center align-items-center h-500"},r.a.createElement(w.a,{variant:"h4"},"Ocorreu um erro!"),r.a.createElement(w.a,{variant:"body1",className:"mt-4"},"Entre em contato com o suporte!"))}var re=t(788),ce=t(792),oe=t(790),ie=t(791),se=t(789),le=Object(j.a)({button:{minWidth:100,maxWidth:"30%"}}),ue=function(e){var a=e.title,t=e.question,c=e.open,o=e.onClose,i=e.loading,s=void 0!==i&&i,l=e.onConfirm,u=e.children,m=Object(H.a)(e,["title","question","open","onClose","loading","onConfirm","children"]),d=le(),p=Object(n.useState)(s),f=Object(k.a)(p,2),g=f[0],b=f[1];return r.a.createElement(re.a,Object.assign({open:c,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},m),r.a.createElement(se.a,{id:"alert-dialog-title"},a),r.a.createElement(oe.a,null,t&&r.a.createElement(ie.a,{id:"alert-dialog-description"},r.a.createElement(w.a,{variant:"body1"},t)),r.a.createElement(w.a,{variant:"h6"},u)),r.a.createElement(ce.a,null,o&&r.a.createElement(N.a,{className:d.button,onClick:o,disabled:g,variant:"contained",color:"secondary"},"Cancelar"),r.a.createElement(N.a,{className:d.button,onClick:function(){b(!0),l()},variant:"contained",color:"primary",autoFocus:!0},g?r.a.createElement(ee.a,{size:24,color:"default"}):"Confirmar")))},me=F.a.create({baseURL:_.urlAPI,headers:{Accept:"application/json"}});me.interceptors.request.use((function(e){var a=V().authSession();return a&&(e.headers.authorization="Bearer ".concat(a)),e}),(function(e){Promise.reject(e)})),me.interceptors.response.use((function(e){return e}),(function(e){return 403===e.response.status?Promise.reject(new Error("SESSION_EXPIRED")):Promise.reject(e)}));var de=me,pe=function(e){var a=e.id,t=e.name,n=e.description,r=e.posts;return de.post("/packages",{id:a,name:t,description:n,posts:r})},fe=function(e){var a=e.url,t=e.img;return F.a.put(a,t)},ge=function(e){var a=e.onSuccess,t=Object(i.c)((function(e){return function(e){return de.delete("/packages/".concat(e))}(e)})),c=Object(k.a)(t,1)[0],o=Object(i.f)(),s=Object(n.useState)(null),l=Object(k.a)(s,2),u=l[0],m=l[1],d=function(){return m(null)},p=L();return{askForRemovePackage:function(e){var t=function(){var t=Object(x.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c(e);case 3:p.success("Pacote removido com sucesso."),o.invalidateQueries("getPackages"),d(),a(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),p.error("Ocorreu um erro ao remover o pacote.");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();m(r.a.createElement(ue,{title:"Remover pacote",question:"Deseja mesmo remover este pacote?",open:!0,onConfirm:t,onClose:d}))},dialog:u}},be=function(e){var a=e.onSuccess,t=Object(i.c)((function(e){return function(e){return de.post("/packages/publish/".concat(e))}(e)})),c=Object(k.a)(t,1)[0],o=Object(n.useState)(null),s=Object(k.a)(o,2),l=s[0],u=s[1],m=Object(i.f)(),d=function(){return u(null)},p=L();return{askForPublishPackage:function(e){var t=function(){var t=Object(x.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c(e);case 3:p.success("Pacote publicado com sucesso"),m.invalidateQueries("getPackages"),d(),a(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),p.error("Ocorreu um erro ao publicar o pacote.");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();u(r.a.createElement(ue,{title:"Publicar pacote",question:"Deseja mesmo publicar este pacote?",open:!0,onConfirm:t,onClose:d}))},dialog:l}},he=function(e){var a=e.page,t=void 0===a?1:a,n=e.limit,r=void 0===n?7:n;return de.get("/packages?page=".concat(t,"&limit=").concat(r))},ve=function(){var e=Object(x.a)(E.a.mark((function e(a){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.id,e.abrupt("return",de.get("/packages/".concat(t)));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(x.a)(E.a.mark((function e(a){var t,n,r,c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.id,n=a.page,r=void 0===n?1:n,c=a.limit,o=void 0===c?7:c,e.abrupt("return",de.get("packages/".concat(t,"?page=").concat(r,"&limit=").concat(o)));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),xe=function(e){return de.post("/packages/generate-urls",e)},Oe=function(){var e=Object(n.useState)(1),a=Object(k.a)(e,2),t=a[0],c=a[1],o=function(){return c(1)},s=Object(i.d)(["getPackages",t],(function(){return he({page:t})})),l=s.isLoading,u=s.error,m=s.resolvedData,d=ge({onSuccess:o}),p=d.askForRemovePackage,f=d.dialog,g=be({onSuccess:o}),v=g.askForPublishPackage,E=g.dialog,x=Object(b.g)();if(l)return r.a.createElement(ae,null);if(u)return r.a.createElement(ne,{errors:[u]});return r.a.createElement(Z.a,null,r.a.createElement(w.a,{variant:"h6",className:"mt-4"},"Pacotes dispon\xedveis"),r.a.createElement(U.a,{className:"mt-1",container:!0,spacing:6},m.data.data.map((function(e){var a=e.id,t=e.name,n=e.description,c=e.is_published;return r.a.createElement(U.a,{key:a,item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement($,{name:t,description:n,isPublished:c,onEdit:function(){return x.push("/packages/".concat(a))},onRemove:function(){return p(a)},onPublish:function(){return v(a)}}))})),r.a.createElement(U.a,{item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(y.a,{className:"h-100 package-card"},r.a.createElement(h.b,{component:N.a,className:"w-100 h-100 font-weight-bold",to:"/packages/new"},"+")))),r.a.createElement(te.a,{className:"mt-4 w-100 d-flex justify-content-center",count:m.data.pagination.totalPages,page:t,color:"primary",onChange:function(e,a){return c(a)}}),f,E)},ke=t(84),je=function(){var e=Object(x.a)(E.a.mark((function e(a){var t,n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.page,n=void 0===t?1:t,r=a.limit,c=void 0===r?7:r,e.abrupt("return",de.get("/categories?page=".concat(n,"&limit=").concat(c)));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{onEmptyResult:function(){}},a=e.onEmptyResult,t=function(e){e.data.data.length<1&&a()},n=Object(i.e)("getAllCategories",(function(){return je({page:1,limit:1e7})}),{onSuccess:t}),r=n.isLoading,c=n.error,o=n.data;if(r||c)return{categoriesById:{},categories:[],isLoading:r,error:c};var s=o.data.data.reduce((function(e,a){return Object(O.a)(Object(O.a)({},e),{},Object(ke.a)({},a.id,a))}),{});return{categoriesById:s,categories:o.data.data,isLoading:r,error:c}},we=200,Ce=200;function Ne(e,a,t){switch(t){case 0:return{coordinate_x:String(Math.floor(.02*e)),coordinate_y:String(Math.floor(.02*a))};case 1:return{coordinate_x:String(Math.floor(.98*e)-we),coordinate_y:String(Math.floor(.02*a))};case 2:return{coordinate_x:String(Math.floor(.5*e)-we/2),coordinate_y:String(Math.floor(.5*a)-Ce/2)};case 3:return{coordinate_x:String(Math.floor(.02*e)),coordinate_y:String(Math.floor(.98*a)-Ce)};case 4:return{coordinate_x:String(Math.floor(.98*e)-we),coordinate_y:String(Math.floor(.98*a)-Ce)};default:return{coordinate_x:String(0),coordinate_y:String(0)}}}function Se(e){return new Promise((function(a,t){var n=new Image;n.onload=function(){a({w:n.width,h:n.height})},n.onerror=function(e){t(e)},n.src=e}))}function Le(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(x.a)(E.a.mark((function e(a){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(a.url);case 2:return t=e.sent,a.dimmensions=t,a.coordinates=Ne(t.w,t.h,a.position.value),e.abrupt("return",{coordinates:a.coordinates});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re=function(e){var a=e.progress,t=e.total,n=e.onClose;return r.a.createElement(ue,{title:"Processando ...",question:"Aguarde! N\xe3o feche o navegador ...",open:!0,loading:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0,onClose:n,onConfirm:function(){}},"".concat(a," de ").concat(t))},Ae=function(){var e=Object(n.useState)(null),a=Object(k.a)(e,2),t=a[0],c=a[1],o=L(),i=Object(b.g)(),s=function(){return c(null)},l=function(){var e=Object(x.a)(E.a.mark((function e(a){var t,n,o,i,l,u,m,p,f,g;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.images,e.prev=1,o=t.map((function(e){return{"Content-Type":d(e)}})),e.next=5,xe(o);case 5:n=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),s();case 12:i=[],l=[],u=0;case 15:if(!(u<t.length)){e.next=42;break}if(m=n.data.posts[u],p=/.mp4/.test(t[u].name),e.t2=!p,!e.t2){e.next=23;break}return e.next=22,Le(t[u]);case 22:e.t2=e.sent;case 23:if(e.t1=e.t2,e.t1){e.next=26;break}e.t1={};case 26:return f=e.t1,g=f.coordinates,e.prev=28,c(r.a.createElement(Re,{progress:u,total:t.length,onClose:s})),e.next=32,fe({url:m.uploadURL,img:t[u].file});case 32:i.push({id:m.id,package_id:n.data.id,category_id:t[u].category.id,name:t[u].file.name,aws_path:m.aws_path,is_customizable:!p,watermark_position:t[u].position.value,content_type:d(t[u].file),coordinate_x:g&&g.coordinate_x||"0",coordinate_y:g&&g.coordinate_y||"0"}),e.next=39;break;case 35:e.prev=35,e.t3=e.catch(28),console.log(e.t3),l.push(t[u]);case 39:u+=1,e.next=15;break;case 42:return e.abrupt("return",{posts:i,uploadErrors:l,packageId:n.data.id});case 43:case"end":return e.stop()}}),e,null,[[1,8],[28,35]])})));return function(a){return e.apply(this,arguments)}}();function u(e){return m.apply(this,arguments)}function m(){return(m=Object(x.a)(E.a.mark((function e(a){var t,n,u,m,d,p,f,g;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.name,n=a.description,u=a.images,e.next=3,l({images:u});case 3:if(m=e.sent,d=m.packageId,p=m.posts,f=m.uploadErrors,!(p.length<1)){e.next=9;break}return e.abrupt("return",o.error("Ocorreu um erro ao salvar as imagens!"));case 9:return e.prev=9,e.next=12,pe({id:d,name:t,description:n,posts:p});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(9),s(),e.abrupt("return",o.error("Ocorreu um erro ao finalizar a cria\xe7\xe3o!"));case 18:return g=function(){s(),i.push("/packages")},e.abrupt("return",c(r.a.createElement(ue,{title:"Processamento conclu\xeddo",open:!0,onConfirm:g},f.length<1?r.a.createElement(w.a,null,"Suas imagens foram salvas com sucesso!"):r.a.createElement("div",null,r.a.createElement(w.a,{variant:"body1"},"Seu pacote foi criado!"),r.a.createElement(w.a,{className:"font-weight-bold mt-2",variant:"body1"},"Infelizmente, ocorreu um problema com as seguintes imagens:"),f.map((function(e){return r.a.createElement(w.a,{key:e.id,className:"mt-1",variant:"body2"},e.file.name)}))))));case 20:case"end":return e.stop()}}),e,null,[[9,14]])})))).apply(this,arguments)}return{askForSave:function(){var e=Object(x.a)(E.a.mark((function e(a){var t,n,o,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.name,n=a.description,o=a.images,i=function(){return u({name:t,description:n,images:o})},c(r.a.createElement(ue,{title:"Adicionar pacote",question:"Voc\xea confirma as imagens adicionadas?",open:!0,onClose:s,onConfirm:i}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),dialog:t}},Ie=t(346),Te=t(186),Fe=t(415),_e=t(482),ze=t(332),Ve=t(333),De=t(339),Be=t(414),Me=t(37),We=t(69),Ge=function(){var e=Object(x.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(e){t(e)},n.readAsDataURL(a)})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function He(e){var a=e.field,t=e.className,n=e.form,c=n.touched,o=n.errors,i=Object(H.a)(e,["field","className","form"]);return r.a.createElement("div",null,r.a.createElement(C.a,Object.assign({},a,i,{error:Boolean(c[a.name]&&o[a.name]),helperText:c[a.name]&&o[a.name],className:"".concat(t," w-100")})))}var Ye=function(e,a){var t=e.name.toLowerCase(),n=a.name.toLowerCase();return t<n?-1:t>n?1:0},qe=t(493),Je=t.n(qe),Qe={width:"20px",height:"20px",position:"absolute",paddingLeft:"5px",right:"-45px",top:"-7px",backgroundColor:"rgb(199, 199, 199)",borderRadius:"10px",cursor:"pointer"},Ke={width:60};function Ue(e){var a=e.id,t=e.url,n=e.name,c=e.position,o=e.category,i=e.handleCheckChange,s=e.checked,l=e.onRemove;return r.a.createElement("div",{className:"pos-relative"},r.a.createElement("div",{className:"d-flex pos-relative"},r.a.createElement("div",{className:"mt-4"},r.a.createElement(_e.a,{checked:s,onChange:function(){return i(a)}})),r.a.createElement("div",{className:"pos-relative",style:Ke},r.a.createElement("span",{onClick:function(){return l(a)},style:Qe},"\xd7"),/.mp4/.test(t)?r.a.createElement("img",{src:Je.a,style:{width:100,height:100,border:"2px solid #c7c7c7"},alt:"for package"}):r.a.createElement("img",{src:t,style:{width:100,height:100,border:"2px solid #c7c7c7"},alt:"for package"}))),r.a.createElement("div",{className:"pos-relative"},r.a.createElement(w.a,{variant:"body2",className:"mt-1"},"Nome: ",r.a.createElement("span",{className:"font-weight-bold"},n||"-")),r.a.createElement(w.a,{variant:"body2",className:"mt-1"},"Posi\xe7\xe3o:"," ",r.a.createElement("span",{className:"font-weight-bold"},c?c.name:"-")),r.a.createElement(w.a,{variant:"body2",className:"mt-1"},"Categoria:"," ",r.a.createElement("span",{className:"font-weight-bold"},o?o.name:"-"))))}var Ze=t(511);function Xe(e){var a=e.onDrop,t=Object(Ze.a)({onDropAccepted:a,accept:"image/jpeg, image/png, video/mp4"}),n=t.getRootProps,c=t.getInputProps;return r.a.createElement("div",Object.assign({className:"mt-4"},n()),r.a.createElement("input",c()),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{cursor:"pointer",border:"2px solid #c7c7c7",width:"100%",height:100}},r.a.createElement(w.a,{variant:"body2"},"Arraste suas imagens ou clique aqui ...")))}function $e(e){var a=e.category,t=e.onChange,n=ye(),c=n.categories,o=n.isLoading,i=n.error;return o?null:i?r.a.createElement(w.a,{variant:"body2"},"N\xe3o foi poss\xedvel carregar as categorias."):r.a.createElement(ze.a,{variant:"outlined",className:"w-100"},r.a.createElement(Ve.a,{id:"category-select-label"},"Categoria"),r.a.createElement(De.a,{labelId:"category-select-label",id:"category-select",value:a,onChange:t},Object.values(c).map((function(e){var a=e.id,t=e.name;return r.a.createElement(Be.a,{key:a,value:a},t)}))))}var ea=We.a({id:We.b(),name:We.b().required("O campo \xe9 obrigat\xf3rio.").min(3,"O nome deve conter pelo menos 3 caracteres"),description:We.b().min(3,"A descri\xe7\xe3o deve conter pelo menos 10 caracteres")}),aa=0,ta=function(e){var a=e.packageById,t=void 0===a?{name:"",description:""}:a,c=e.posts,o=void 0===c?[]:c,i=e.categories,s=e.submit,l=o.reduce((function(e,a){return Object(O.a)(Object(O.a)({},e),{},Object(ke.a)({},a.id,{id:a.id,name:a.name,url:"".concat(a.aws_path),aws_path:a.aws_path,position:p[a.watermark_position],category:i[a.category_id],checked:!1}))}),{}),u=Object(n.useState)(l),m=Object(k.a)(u,2),d=m[0],f=m[1],g=r.a.useState(""),b=Object(k.a)(g,2),v=b[0],j=b[1],y=r.a.useState(""),C=Object(k.a)(y,2),S=C[0],P=C[1],R=L(),A=Object(n.useCallback)(function(){var e=Object(x.a)(E.a.mark((function e(a){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.values(d).length>99)){e.next=2;break}return e.abrupt("return",R.error("Voc\xea pode inserir apenas ".concat(100," imagens.")));case 2:return e.next=4,Promise.all(a.map(function(){var e=Object(x.a)(E.a.mark((function e(a){var t,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=aa+=1,n={id:t,file:a},e.next=4,Ge(a);case 4:return r=e.sent,e.abrupt("return",Object(O.a)(Object(O.a)({},n),{},{url:r,name:a.name,position:p[0],category:Object.values(i)[0],checked:!1,isNew:!0}));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()));case 4:return t=e.sent,e.abrupt("return",f((function(e){return Object(O.a)(Object(O.a)({},e),Object.values(t).reduce((function(e,a){return Object(O.a)(Object(O.a)({},e),{},Object(ke.a)({},a.id,a))}),{}))})));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[d,R,i]),I=function(e){var a=d[e],t=Object(H.a)(d,[e].map(Ie.a));f(Object(O.a)(Object(O.a)({},t),{},Object(ke.a)({},e,Object(O.a)(Object(O.a)({},a),{},{isRemoved:!a.isNew||void 0}))))},T=function(e){var a=d[e],t=Object(H.a)(d,[e].map(Ie.a));f(Object(O.a)(Object(O.a)({},t),{},Object(ke.a)({},e,Object(O.a)(Object(O.a)({},a),{},{checked:!a.checked}))))},F=Object.values(d).filter((function(e){return!e.isRemoved})).sort(Ye),_=F.reduce((function(e,a){return e&&a.checked}),!0);return r.a.createElement(Te.a,{className:"p-4 mt-4"},r.a.createElement(w.a,{className:"mb-4",variant:"h5"},"Novo Pacote de Imagens"),r.a.createElement(Me.c,{initialValues:t,validationSchema:ea,onSubmit:function(e){return Object.values(d).some((function(e){var a=e.position,t=e.category;return!a||!t}))?R.error("Todas as imagens devem possuir categoria e posi\xe7\xe3o!"):s(Object(O.a)(Object(O.a)({},e),{},{images:Object.values(d)}))}},r.a.createElement(Me.b,null,r.a.createElement(Me.a,{name:"name",label:"Nome do pacote",component:He}),r.a.createElement(Me.a,{name:"description",label:"Descri\xe7\xe3o do pacote",className:"mt-4",component:He}),r.a.createElement(U.a,{container:!0,alignItems:"center",className:"mt-4"},r.a.createElement(U.a,{item:!0,xs:12,sm:6,md:2,lg:1},r.a.createElement(w.a,{variant:"h6"},"Imagens")),F.length>0&&r.a.createElement(U.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(Fe.a,{control:r.a.createElement(_e.a,{checked:_,onChange:function(){var e=Object.values(d).reduce((function(e,a){return Object(O.a)(Object(O.a)({},e),{},Object(ke.a)({},a.id,Object(O.a)(Object(O.a)({},a),{},{checked:!_})))}),{});f(e)},name:"checkedB",color:"primary"}),label:"Todos"}))),F.some((function(e){return e.checked}))&&r.a.createElement(U.a,{container:!0,spacing:2,className:"mt-1",alignItems:"center"},r.a.createElement(U.a,{item:!0,xs:12,sm:6,md:2,lg:2},r.a.createElement(ze.a,{variant:"outlined",className:"w-100"},r.a.createElement(Ve.a,{id:"position-select-label"},"Posi\xe7\xe3o"),r.a.createElement(De.a,{labelId:"position-select-label",id:"position-select",value:v,onChange:function(e){j(e.target.value)}},p.map((function(e){return r.a.createElement(Be.a,{key:e.value,value:e.value},e.name)}))))),r.a.createElement(U.a,{item:!0,xs:12,sm:6,md:2,lg:2},r.a.createElement($e,{category:S,onChange:function(e){P(e.target.value)}})),r.a.createElement(U.a,{item:!0,lg:2},r.a.createElement(N.a,{onClick:function(){var e=Object.values(d).reduce((function(e,a){return Object(O.a)(Object(O.a)({},e),{},Object(ke.a)({},a.id,Object(O.a)(Object(O.a)({},a),{},{checked:!1,isUpdated:a.isNew?void 0:a.isUpdated||a.checked,position:a.checked?p[v]:p[a.position.value],category:a.checked?i[S]:i[a.category.id]})))}),{});f(e)},color:"primary",variant:"contained"},"Aplicar"))),r.a.createElement(U.a,{container:!0,className:"mt-4",spacing:6},F.map((function(e){var a=e.id,t=e.name,n=e.url,c=e.position,o=e.category,i=e.checked;return r.a.createElement(U.a,{key:a,item:!0,lg:3,md:3,sm:3},r.a.createElement(Ue,{id:a,name:t,url:n,position:c,category:o,checked:i,handleCheckChange:T,onRemove:I}))}))),r.a.createElement(Xe,{onDrop:A}),r.a.createElement("div",{className:"d-flex flex-row justify-content-end mt-4"},r.a.createElement(h.b,{variant:"contained",color:"secondary",component:N.a,to:"/packages"},"Cancelar"),r.a.createElement(N.a,{className:"ml-4",type:"submit",variant:"contained",color:"primary"},"Salvar")))))},na=function(){var e=Ae(),a=e.dialog,t=e.askForSave,n=L(),c=Object(b.g)(),o=ye({onEmptyResult:function(){n.error("Cadastre pelo menos um tipo de categoria, antes de criar um pacote."),c.push("/packages")}}),i=o.isLoading,s=o.error,l=o.categoriesById;return i?r.a.createElement(ae,null):s?r.a.createElement(ne,{errors:[s]}):r.a.createElement(Z.a,null,r.a.createElement(ta,{categories:l,submit:t}),a)},ra=function(){var e=Object(n.useState)(null),a=Object(k.a)(e,2),t=a[0],c=a[1],o=L(),s=Object(b.g)(),l=function(){return c(null)},p=Object(i.f)();function f(e){return g.apply(this,arguments)}function g(){return(g=Object(x.a)(E.a.mark((function e(a){var t,n,i,f,g,b,h,v,x,O,k,j,y,w,C,N,S,L,P,R,A;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.id,n=a.name,i=a.description,f=a.images,b=[],!((h=f.filter((function(e){return e.isNew}))).length>0)){e.next=38;break}return e.prev=4,v=f.map((function(e){return{"Content-Type":d(e)}})),e.next=8,xe(v);case 8:g=e.sent,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(4),console.error(e.t0),l(),e.abrupt("return",o.error("Ocorreu um erro ao iniciar a cria\xe7\xe3o!"));case 16:x=[],O=0;case 18:if(!(O<h.length)){e.next=38;break}return k=g.data.posts[O],e.prev=20,c(r.a.createElement(Re,{progress:O,total:h.length,onClose:l})),e.next=24,fe({url:k.uploadURL,img:h[O].file});case 24:return e.next=26,Le(h[O]);case 26:j=e.sent,y=j.coordinates,b.push({id:k.id,package_id:t,category_id:h[O].category.id,watermark_position:h[O].position.value,name:h[O].name,aws_path:k.aws_path,content_type:d(h[O].file),is_customizable:!0,coordinate_x:y&&y.coordinate_x,coordinate_y:y&&y.coordinate_y}),e.next=35;break;case 31:e.prev=31,e.t1=e.catch(20),console.log(e.t1),x.push(h[O].file);case 35:O+=1,e.next=18;break;case 38:w=f.filter((function(e){return e.isUpdated})),C=0;case 40:if(!(C<w.length)){e.next=50;break}return N=w[C],e.next=44,Le(w[C]);case 44:S=e.sent,L=S.coordinates,b.push({id:N.id,package_id:t,category_id:N.category.id,watermark_position:f[C].position.value,name:N.name,aws_path:N.aws_path,content_type:d(f[C]),is_customizable:!0,coordinate_x:L&&L.coordinate_x,coordinate_y:L&&L.coordinate_y});case 47:C+=1,e.next=40;break;case 50:for(P=f.filter((function(e){return e.isRemoved})),R=0;R<P.length;R+=1)A=P[R],b.push({id:A.id,package_id:t,category_id:A.category.id,name:A.name,aws_path:A.aws_path,is_removed:1,content_type:d(f[R]),is_customizable:!0,coordinate_x:"0",coordinate_y:"0",watermark_position:0});return e.prev=52,e.next=55,pe({id:t,name:n,description:i,posts:b});case 55:e.next=61;break;case 57:return e.prev=57,e.t2=e.catch(52),l(),e.abrupt("return",o.error("Ocorreu um erro ao finalizar a cria\xe7\xe3o!"));case 61:return p.invalidateQueries("getPackages"),p.invalidateQueries(u(t)),p.invalidateQueries(m(t)),l(),o.success("Pacote adicionado com sucesso!"),e.abrupt("return",s.push("/packages"));case 67:case"end":return e.stop()}}),e,null,[[4,11],[20,31],[52,57]])})))).apply(this,arguments)}return{askForSave:function(){var e=Object(x.a)(E.a.mark((function e(a){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){return f(a)},c(r.a.createElement(ue,{title:"Atualizar pacote",question:"Voc\xea confirma essas altera\xe7\xf5es?",open:!0,onClose:l,onConfirm:t}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),dialog:t}},ca=function(){var e=ra(),a=e.dialog,t=e.askForSave,n=Object(b.h)(),c=Object(i.e)(m(n.id),(function(){return Ee({id:n.id,page:1,limit:1e3})})),o=c.isLoading,s=c.error,l=c.data,d=ye(),p=d.categoriesById,f=d.isLoading,g=d.error,h=Object(i.e)(u(n.id),(function(){return ve({id:n.id})})),v=h.isLoading,E=h.error,x=h.data;return v||o||f?r.a.createElement(ae,null):E||s||g?r.a.createElement(ne,null):r.a.createElement(Z.a,null,r.a.createElement(ta,{packageById:{id:x.data.id,name:x.data.name,description:x.data.description},posts:l.data.posts,categories:p,submit:t}),a)},oa=function(){return r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/packages/new",component:na}),r.a.createElement(b.b,{exact:!0,path:"/packages/:id",component:ca}),r.a.createElement(b.b,{exact:!0,path:"/packages",component:Oe}),r.a.createElement(b.a,{from:"/",to:"/packages"}))},ia=We.a({name:We.b().required("O campo \xe9 obrigat\xf3rio."),description:We.b().required("O campo \xe9 obrigat\xf3rio.")});function sa(e){var a=e.onCancel,t=e.onSubmit,n=e.initialValues,c=void 0===n?{name:"",description:""}:n;return r.a.createElement(Me.c,{initialValues:c,validationSchema:ia,onSubmit:t},r.a.createElement(Me.b,null,r.a.createElement(Me.a,{name:"name",label:"Nome do pacote",component:He}),r.a.createElement(Me.a,{name:"description",label:"Descri\xe7\xe3o do pacote",className:"mt-4",component:He}),r.a.createElement("div",{className:"d-flex flex-row justify-content-end mt-4"},r.a.createElement(N.a,{onClick:a,variant:"contained",color:"secondary"},"Cancelar"),r.a.createElement(N.a,{className:"ml-4",type:"submit",variant:"contained",color:"primary"},"Salvar"))))}function la(e){var a=e.onClose,t=e.open,n=e.data,c=e.onSubmit;return r.a.createElement(re.a,{open:t,onClose:a},r.a.createElement(y.a,null,r.a.createElement(X.a,{className:"p-4"},r.a.createElement(w.a,{variant:"h6",className:"mb-4"},"Editar Categoria"),r.a.createElement(sa,{initialValues:n,onSubmit:c,onCancel:a}))))}var ua=function(e){var a=e.onSuccess,t=Object(i.c)((function(e){return function(e){var a=e.id,t=e.name,n=e.description;return de.put("/categories/".concat(a),{name:t,description:n})}(e)})),c=Object(k.a)(t,1)[0],o=Object(i.f)(),s=Object(n.useState)(null),l=Object(k.a)(s,2),u=l[0],m=l[1],d=function(){return m(null)},p=L(),f=function(){var e=Object(x.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(t);case 3:p.success("Categoria editada com sucesso."),o.invalidateQueries("getCategories"),a(),d(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),p.error("Ocorreu um erro ao editar a categoria.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}();return{askForEditCategory:function(e){m(r.a.createElement(la,{open:!0,data:e,onSubmit:f,onClose:d}))},dialog:u}};function ma(e){var a=e.open,t=e.onSubmit,n=e.onClose;return r.a.createElement(re.a,{open:a,onClose:n},r.a.createElement(y.a,null,r.a.createElement(X.a,{className:"p-4"},r.a.createElement(w.a,{variant:"h6",className:"mb-4"},"Adicionar Categoria"),r.a.createElement(sa,{onSubmit:t,onCancel:n}))))}var da=function(e){var a=e.onSuccess,t=Object(i.c)((function(e){return a=e,de.post("/categories",a);var a})),c=Object(k.a)(t,1)[0],o=Object(i.f)(),s=Object(n.useState)(null),l=Object(k.a)(s,2),u=l[0],m=l[1],d=function(){return m(null)},p=L(),f=function(){var e=Object(x.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(t);case 3:p.success("Categoria criada com sucesso."),o.invalidateQueries("getCategories"),a(),d(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),p.error("Ocorreu um erro ao criar a categoria.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}();return{askForAddCategory:function(){m(r.a.createElement(ma,{open:!0,onSubmit:f,onClose:d}))},dialog:u}},pa=function(e){var a=e.onSuccess,t=Object(i.c)((function(e){return a=e,de.delete("/categories/".concat(a));var a})),c=Object(k.a)(t,1)[0],o=Object(i.f)(),s=Object(n.useState)(null),l=Object(k.a)(s,2),u=l[0],m=l[1],d=function(){return m(null)},p=L();return{askForRemoveCategory:function(e){var t=function(){var t=Object(x.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c(e);case 3:p.success("Categoria removida com sucesso."),o.invalidateQueries("getCategories"),a(),d(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),p.error("Ocorreu um erro ao remover a categoria.");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();m(r.a.createElement(ue,{title:"Remover categoria",question:"Deseja mesmo remover esta categoria?",open:!0,onConfirm:t,onClose:d}))},dialog:u}},fa=function(){var e=Object(n.useState)(1),a=Object(k.a)(e,2),t=a[0],c=a[1],o=function(){return c(1)},s=Object(i.d)(["getCategories",t],(function(){return je({page:t})})),l=s.isLoading,u=s.error,m=s.resolvedData,d=ua({onSuccess:o}),p=d.dialog,f=d.askForEditCategory,g=pa({onSuccess:o}),b=g.dialog,h=g.askForRemoveCategory,v=da({onSuccess:o}),E=v.dialog,x=v.askForAddCategory;if(l)return r.a.createElement(ae,null);if(u)return r.a.createElement(ne,{errors:[u]});return r.a.createElement(Z.a,null,r.a.createElement(w.a,{variant:"h6",className:"mt-4"},"Categorias dispon\xedveis"),r.a.createElement(U.a,{className:"mt-1 mb-4",container:!0,spacing:6},m.data.data.map((function(e){var a=e.id,t=e.name,n=e.description;return r.a.createElement(U.a,{key:a,item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement($,{name:t,description:n,onEdit:function(){return f({id:a,name:t,description:n})},onRemove:function(){return h(a)}}))})),r.a.createElement(U.a,{item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(y.a,{className:"h-100 package-card"},r.a.createElement(N.a,{className:"w-100 h-100 font-weight-bold",onClick:x},"+")))),r.a.createElement(te.a,{className:"mt-4 w-100 d-flex justify-content-center",count:m.data.pagination.totalPages,page:t,color:"primary",onChange:function(e,a){return c(a)}}),E,p,b)},ga=function(){return r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/categories",component:fa}),r.a.createElement(b.a,{from:"/",to:"/categories"}))},ba=t(801),ha=t(766),va=t(416),Ea=t(799),xa=t(334);function Oa(e){var a=e.field,t=e.form,n=t.touched,c=t.errors,o=e.options,i=e.label,s=e.className;return r.a.createElement("div",{className:"mt-3"},r.a.createElement(ze.a,{component:"fieldset",error:Boolean(n[a.name]&&c[a.name])},r.a.createElement(ha.a,{component:"legend"},i),r.a.createElement(va.a,Object.assign({row:!0},a,{className:"w-100 ".concat(s||"")}),o.map((function(e){return r.a.createElement(Fe.a,{key:e.value,value:e.value,control:r.a.createElement(Ea.a,null),label:e.label})})),r.a.createElement(xa.a,null,n[a.name]&&c[a.name]))))}function ka(e){var a=e.value,t=e.onChange,n=Object(i.d)(["getPackages",1],(function(){return he({limit:1e5})})),c=n.isLoading,o=n.error,s=n.resolvedData;if(c)return null;if(o)return r.a.createElement(w.a,{variant:"body2"},"N\xe3o foi poss\xedvel carregar os pacotes.");var l=s.data.data.map((function(e){return{value:e.id,label:e.name}}));return r.a.createElement(ze.a,{variant:"outlined",className:"w-100"},r.a.createElement(Ve.a,{id:"package-select-label"},"Pacote"),r.a.createElement(De.a,{labelId:"package-select-label",id:"package-select",onChange:t,value:a,name:"packageId"},l.map((function(e){var a=e.value,t=e.label;return r.a.createElement(Be.a,{key:a,id:a,value:a},t)}))))}var ja=t(77),ya=t.n(ja);var wa={0:"CONSULTORA",1:"DIRETORA"};var Ca=function(e){return console.log("###### renderOneLine","lato-italic-24"),function(e){var a=e.customName,t=e.role,n=e.instagram,r=e.phone,c=e.contact,o=e.customLastName,i=e.fontSize,s=void 0===i?20:i,l="0"===c?n:r;return ya.a.read("https://gmreis.github.io/watermark-browser/dist/img/unnamed.png").then(function(){var e=Object(x.a)(E.a.mark((function e(n){var r,c,i,u,m,d,p,f,g,b,h,v,x,O;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya.a.loadFont("https://gmreis.github.io/watermark-browser/dist/fonts/lato-italic/lato-italic-bold-".concat(s,".fnt"));case 2:return r=e.sent,e.next=5,ya.a.loadFont("https://gmreis.github.io/watermark-browser/dist/fonts/lato-italic/lato-italic-12.fnt");case 5:return c=e.sent,i={text:wa[t],alignmentX:ya.a.HORIZONTAL_ALIGN_CENTER,alignmentY:ya.a.VERTICAL_ALIGN_MIDDLE},u={text:"MARY KAY",alignmentX:ya.a.HORIZONTAL_ALIGN_CENTER,alignmentY:ya.a.VERTICAL_ALIGN_MIDDLE},m={text:l,alignmentX:ya.a.HORIZONTAL_ALIGN_CENTER,alignmentY:ya.a.VERTICAL_ALIGN_MIDDLE},d={text:a,alignmentX:ya.a.HORIZONTAL_ALIGN_CENTER,alignmentY:ya.a.VERTICAL_ALIGN_BOTTOM},p={text:o,alignmentX:ya.a.HORIZONTAL_ALIGN_CENTER,alignmentY:ya.a.VERTICAL_ALIGN_BOTTOM},e.next=13,n.print(c,0,30,i,180,0);case 13:return f=e.sent,e.next=16,f.print(c,0,40,u,180,0);case 16:return g=e.sent,e.next=19,g.print(c,0,138,m,180,0);case 19:return b=e.sent,h=ya.a.measureTextHeight(r,o),e.next=23,b.print(r,20,95,d,140,0);case 23:return v=e.sent,e.next=26,v.print(r,20,90,p,140,.98*h);case 26:return x=e.sent,e.next=29,x.getBase64Async("image/png");case 29:return O=e.sent,e.abrupt("return",O);case 31:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)}))}(e)};var Na=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=a.split(",")[0].indexOf("base64")>=0?atob(a.split(",")[1]):unescape(a.split(",")[1]);for(var t=a.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(e.length),r=0;r<e.length;r+=1)n[r]=e.charCodeAt(r);return new Blob([n],{type:t})},Sa=F.a.create({headers:{Accept:"application/json"}});function La(){return(La=Object(x.a)(E.a.mark((function e(a,t){var n,r,c,o,i,s,l,u,m,d,p;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.email,r=a.name&&a.name.trim(),c=a.phone.trim(),e.next=5,de.get("/customers/?email=".concat(n));case 5:if(i=e.sent,s=i.data){e.next=11;break}return e.next=10,de.post("/customers",{email:n,custom_name:r,name:r,custom_phone:c,custom_image_stamp:a.contact,rank:a.role});case 10:o=e.sent;case 11:return e.next=13,de.get("/purchases/generate-logo-url");case 13:return l=e.sent,u=l.data,m=(u=void 0===u?{}:u).id,d=u.aws_logo_path,p=u.uploadURL,e.next=19,Sa.put(p,Na(t));case 19:return e.next=21,de.post("/purchases",{id:m,aws_logo_path:d,package_id:a.packageId,customer_id:s&&s.id||o.data.id,custom_name:r,custom_phone:c,rank:a.role,custom_image_stamp:a.contact,custom_social_media:a.instagram,is_paid:1});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pa=function(e,a){return La.apply(this,arguments)},Ra=We.a({name:We.b().required("O campo \xe9 obrigat\xf3rio."),email:We.b().email("O e-mail deve ser v\xe1lido.").required("O campo \xe9 obrigat\xf3rio."),role:We.b().required("O campo \xe9 obrigat\xf3rio."),instagram:We.b().required("O campo \xe9 obrigat\xf3rio."),phone:We.b().required("O campo \xe9 obrigat\xf3rio.")}),Aa={name:"",lastName:"",role:"0",contact:"0",instagram:"",phone:"",packageId:"",customName:"",customLastName:"",fontSize:20},Ia=function(){var e=L(),a=Object(b.g)(),t=Object(n.useState)(""),c=Object(k.a)(t,2),o=c[0],i=c[1];Object(n.useEffect)((function(){function e(){return(e=Object(x.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(Aa);case 2:a=e.sent,i(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=function(){var t=Object(x.a)(E.a.mark((function t(n){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pa(n,o);case 3:e.success("Venda criada com sucesso!"),a.push("/purchases"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.error("Ocorreu um erro ao criar uma venda.");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(Z.a,{className:"d-flex justify-content-center align-items-center"},r.a.createElement(Te.a,{className:"p-4 mt-4 w-100"},r.a.createElement(Me.c,{initialValues:Aa,validationSchema:Ra,onSubmit:s},(function(e){var a=e.values,t=e.handleChange,n=function(){var e=Object(x.a)(E.a.mark((function e(n,r){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(n),e.next=3,Ca(Object(O.a)(Object(O.a)({},a),{},{fontSize:r}));case 3:return c=e.sent,e.abrupt("return",i(c));case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),c=function(){var e=Object(x.a)(E.a.mark((function e(n){var r,c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.target,c=r.name,t(n),e.next=5,Ca(Object(O.a)(Object(O.a)({},a),{},Object(ke.a)({},c,r.value)));case 5:return o=e.sent,e.abrupt("return",i(o));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(Me.b,null,r.a.createElement(w.a,{variant:"h5",className:"mb-4 text-center"},"Nova venda"),r.a.createElement(U.a,{container:!0,spacing:2,className:"w-100"},r.a.createElement(U.a,{item:!0,xs:12,sm:12,md:6,lg:6},r.a.createElement("div",{className:"d-flex justify-content-center mt-4"},r.a.createElement("img",{src:o,alt:"stamp",style:{width:"50%",minHeight:"60%",borderRadius:"2px"}}))),r.a.createElement(U.a,{item:!0,sm:12,md:6,lg:6},r.a.createElement(U.a,{container:!0,spacing:2,className:"mt-2"},r.a.createElement(U.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(Me.a,{name:"role",label:"Cargo",component:Oa,onChange:c,options:f})),r.a.createElement(U.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(Me.a,{name:"contact",label:"Contato",component:Oa,onChange:c,options:g}))),r.a.createElement(U.a,{container:!0,spacing:2,className:"mt-2"},r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(Me.a,{name:"name",label:"Nome",component:He,onChange:c}))),r.a.createElement(U.a,{container:!0,spacing:2,className:"mt-2"},r.a.createElement(U.a,{item:!0,xs:12,sm:6},r.a.createElement(Me.a,{name:"customName",label:"Primeiro Nome",component:He,onChange:c})),r.a.createElement(U.a,{item:!0,xs:12,sm:6},r.a.createElement(Me.a,{name:"customLastName",label:"Ultimo Nome",component:He,onChange:c}))),r.a.createElement(U.a,{container:!0,spacing:2,className:"mt-2"},r.a.createElement(U.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(Me.a,{name:"email",label:"E-mail",component:He,onChange:c})),r.a.createElement(U.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(Me.a,{name:"packageId",label:"Pacote"},(function(e){var a=e.field.value;return r.a.createElement(ka,{value:a,onChange:t})})))),r.a.createElement(U.a,{container:!0,spacing:2,className:"mt-2"},r.a.createElement(U.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(Me.a,{name:"instagram",label:"Instagram",onChange:c,component:He})),r.a.createElement(U.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(Me.a,{name:"phone",label:"Celular",onChange:c,component:He}))),r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve.a,{id:"package-select-label"},"Tamanho da fonte"),r.a.createElement(Me.a,{name:"fontSize",label:"Tamanho de fonte"},(function(e){e.field.value;return r.a.createElement(ba.a,{defaultValue:20,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,onChange:n,marks:!0,min:8,max:40})})))),r.a.createElement("div",{className:"d-flex justify-content-end mt-4"},r.a.createElement(N.a,{type:"submit",variant:"contained",color:"primary"},"Salvar")))))}))))},Ta=function(){return r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/post-purchase",component:Ia}),r.a.createElement(b.a,{from:"/",to:"/post-purchase"}))},Fa=t(337),_a=t.n(Fa),za="loading",Va="done",Da="error";var Ba=t(497),Ma=t.n(Ba),Wa=t(507),Ga=t.n(Wa),Ha=t(498),Ya=t.n(Ha),qa=t(505),Ja=t.n(qa),Qa=t(345),Ka=t.n(Qa),Ua=t(344),Za=t.n(Ua),Xa=t(499),$a=t.n(Xa),et=t(500),at=t.n(et),tt=t(502),nt=t.n(tt),rt=t(503),ct=t.n(rt),ot=t(504),it=t.n(ot),st=t(508),lt=t.n(st),ut=t(501),mt=t.n(ut),dt=t(506),pt=t.n(dt),ft=t(509),gt=t.n(ft),bt={Add:Object(n.forwardRef)((function(e,a){return r.a.createElement(Ma.a,Object.assign({},e,{ref:a}))})),Check:Object(n.forwardRef)((function(e,a){return r.a.createElement(Ya.a,Object.assign({},e,{ref:a}))})),Clear:Object(n.forwardRef)((function(e,a){return r.a.createElement(Za.a,Object.assign({},e,{ref:a}))})),Delete:Object(n.forwardRef)((function(e,a){return r.a.createElement($a.a,Object.assign({},e,{ref:a}))})),DetailPanel:Object(n.forwardRef)((function(e,a){return r.a.createElement(Ka.a,Object.assign({},e,{ref:a}))})),Edit:Object(n.forwardRef)((function(e,a){return r.a.createElement(at.a,Object.assign({},e,{ref:a}))})),Export:Object(n.forwardRef)((function(e,a){return r.a.createElement(mt.a,Object.assign({},e,{ref:a}))})),Filter:Object(n.forwardRef)((function(e,a){return r.a.createElement(nt.a,Object.assign({},e,{ref:a}))})),FirstPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(ct.a,Object.assign({},e,{ref:a}))})),LastPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(it.a,Object.assign({},e,{ref:a}))})),NextPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(Ka.a,Object.assign({},e,{ref:a}))})),PreviousPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(Ja.a,Object.assign({},e,{ref:a}))})),ResetSearch:Object(n.forwardRef)((function(e,a){return r.a.createElement(Za.a,Object.assign({},e,{ref:a}))})),Search:Object(n.forwardRef)((function(e,a){return r.a.createElement(pt.a,Object.assign({},e,{ref:a}))})),SortArrow:Object(n.forwardRef)((function(e,a){return r.a.createElement(Ga.a,Object.assign({},e,{ref:a}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,a){return r.a.createElement(lt.a,Object.assign({},e,{ref:a}))})),ViewColumn:Object(n.forwardRef)((function(e,a){return r.a.createElement(gt.a,Object.assign({},e,{ref:a}))}))},ht=function(){var e=function(){var e=Object(n.useState)([]),a=Object(k.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(za),o=Object(k.a)(c,2),i=o[0],s=o[1],l=function(){var e=Object(x.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(za),e.next=4,de.get("/purchases");case 4:a=e.sent,console.log(a.data.data,"daqui"),r(a.data.data),s(Va),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s(Da);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l()}),[]),{process:i,purchases:t,refetch:function(){return l()}}}().purchases;return r.a.createElement(Z.a,{className:"mt-4"},r.a.createElement(_a.a,{icons:bt,columns:[{title:"Cliente",field:"name",render:function(e){return r.a.createElement(w.a,{variant:"body1"},e.name)}},{title:"Data",field:"date",render:function(e){return r.a.createElement(w.a,{variant:"body1"},e.date)}},{title:"Galeria",field:"galleryLink",render:function(e){return r.a.createElement(h.b,{to:"/gallery/".concat(e.edit)},"Link")}},{title:"Status",field:"status",render:function(e){return r.a.createElement(w.a,{variant:"body1"},e.status)}}],data:e.map((function(e){var a=new Date(e.created_at).toLocaleDateString("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit"});return{name:e.custom_name,date:a,edit:e.id,delete:e.id,gallery:e.id,status:e.watermark_status}})),title:"\xdaltimas vendas"}),r.a.createElement("div",{className:"d-flex justify-content-end mt-4"},r.a.createElement(h.b,{component:N.a,to:"/purchases/new"},"Nova Venda")))},vt=function(){return r.a.createElement(Z.a,null,r.a.createElement(Ia,null))},Et=function(){return r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/purchases",component:ht}),r.a.createElement(b.b,{exact:!0,path:"/purchases/new",component:vt}),r.a.createElement(b.a,{from:"/",to:"/packages"}))},xt=function(){L(),Object(b.g)(),Object(n.useContext)(B).logout;return r.a.createElement("div",{style:{color:"#fff",backgroundColor:"rgba(0,0,0, 1)"},className:"d-flex justify-content-between align-items-center header p-3"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("img",{src:q.a}),r.a.createElement(w.a,{className:"ml-2",variant:"h5"},"Voc\xea est\xe1 pronta para aumentar suas vendas?")))};t(738);function Ot(e){var a=e.url,t=e.children;return r.a.createElement("a",{className:"custom-anchor",href:a},t)}var kt=t(510),jt=t.n(kt),yt=F.a.create({baseURL:_.urlAPI,headers:{Accept:"application/json"}}),wt=function(){var e,a=Object(b.h)(),t=Object(i.e)((e=a.purchaseId,"getPurchaseById-".concat(e)),(function(){return function(e){var a=e.purchaseId;return yt.get("/purchases/gallery/".concat(a))}({purchaseId:a.purchaseId})})),n=t.isLoading,c=t.error,o=t.data;if(!a.purchaseId)return r.a.createElement(Z.a,{className:"d-flex align-items-center h-500"},r.a.createElement(w.a,{variant:"body1"},"Voc\xea deve fornecer uma compra v\xe1lida."));if(n)return r.a.createElement(ae,null);if(c)return r.a.createElement(ne,null);var s=o.data.postsByCategory;return Object.values(s).length<1?r.a.createElement(Z.a,{className:"d-flex justify-content-center align-items-center h-500"},r.a.createElement(w.a,{variant:"body1"},"Nenhum post foi encontrado nesta compra.")):r.a.createElement(Z.a,null,Object.values(s).map((function(e){var a=e.category,t=e.posts;return r.a.createElement(y.a,{key:a,className:"h-100 mt-4 w-100"},r.a.createElement(X.a,null,r.a.createElement(w.a,{variant:"h5",className:"mb-4"},a.name),r.a.createElement(U.a,{className:"mt-1",container:!0},t.map((function(e){var a=e.id,n=e.aws_path,c=e.aws_path_thumb;Object(H.a)(e,["id","aws_path","aws_path_thumb"]);return r.a.createElement(U.a,{key:a,item:!0,xs:12,sm:6,md:4,lg:2},r.a.createElement("div",{className:"w-100 d-flex flex-column align-items-center"},console.log(t),r.a.createElement(Ot,{url:n},/mp4/.test(n)?r.a.createElement(jt.a,{url:n,style:{width:"100%",minHeight:"100%",borderRadius:"2px"}}):r.a.createElement("img",{src:c,style:{width:"100%",minHeight:"100%",borderRadius:"2px"},alt:"Post"}))))})))))})))},Ct=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(xt,null),r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/gallery/:purchaseId",component:wt}),r.a.createElement(b.a,{from:"/",to:"/notfound"})))},Nt=function(){return r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/packages",component:oa}),r.a.createElement(b.b,{path:"/categories",component:ga}),r.a.createElement(b.b,{path:"/post-purchase",component:Ta}),r.a.createElement(b.b,{path:"/purchases",component:Et}),r.a.createElement(b.a,{from:"/",to:"/packages"}))},St=function(){return r.a.createElement(h.a,null,r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/login",component:G}),r.a.createElement(b.b,{path:"/gallery",component:Ct}),r.a.createElement(K,{path:"/",component:Nt})))},Lt=t(163),Pt=t(794),Rt={text:"#484f5b",primary:"#173f5f",primaryLight:"#09EE6F",primaryDark:"#1C7945",secondary:"#364FB7",secondaryLight:"#1fe2e2",secondaryDark:"#2D4299",success:"#6DD400",successLight:"#e7fad1",warning:"#FFC421",warningLight:"#fff3d6",error:"#F00A3F",errorLight:"#fdecec",info:"#146DE1",background:"#f9fafb",grey:"#afb5c0",greyLight:"#e2e5e9",white:"#fff",greyLightest:"#F9FAFB"},At=(t(755),Object(Lt.a)({typography:{fontSize:16,h1:{fontFamily:'"Lato", "Roboto", sans-serif',fontSize:"4.5rem",fontWeight:"bold"},h2:{fontFamily:'"Lato", "Roboto", sans-serif',fontSize:"3.5rem",fontWeight:"bold"},h3:{fontFamily:'"Lato", "Roboto", sans-serif',fontWeight:"bold"},h4:{fontFamily:'"Lato", "Roboto", sans-serif',fontSize:"2rem",fontWeight:"bold"},h5:{fontFamily:'"Lato", "Roboto", sans-serif',fontSize:"1.5rem",fontWeight:"bold"},h6:{fontFamily:'"Lato", "Roboto", sans-serif',fontSize:"1.25rem",fontWeight:"bold"},overline:{lineHeight:"initial",fontSize:"0.75rem",color:Rt.grey},caption:{fontSize:"0.75rem"},body1:{fontSize:"1rem"},body2:{fontSize:"0.875rem"},subtitle1:{fontSize:"0.875rem"},subtitle2:{fontSize:"0.875rem"}},palette:{background:{default:Rt.background},action:{disabled:Rt.greyLight,disabledBackground:Rt.greyLight},divider:Rt.greyLightest,text:{primary:Rt.text,secondary:Rt.grey,disabled:Rt.greyLight},primary:{main:Rt.primary},secondary:{main:Rt.secondary},error:{main:Rt.error},info:{main:Rt.info},warning:{main:Rt.warning},success:{main:Rt.success},grey:{300:Rt.grey,400:Rt.greyLight}},props:{MuiTextField:{variant:"outlined"}},overrides:{MuiBackdrop:{root:{backgroundColor:"rgba(72, 79, 91, 0.9)"}},MuiPaper:{elevation1:{boxShadow:"0 5px 16px 0 rgba(175, 181, 192, 0.2)"},rounded:{borderRadius:8}},MuiLinearProgress:{colorPrimary:{backgroundColor:Rt.grey}},MuiInputBase:{root:{fontSize:"1rem"}},MuiFilledInput:{root:{backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"}}},MuiOutlinedInput:{root:{borderRadius:8},input:{padding:"27px 14px 10px"},multiline:{padding:"27px 14px 10px"},notchedOutline:{top:0}},MuiInputLabel:{outlined:{transform:"translate(14px, 19px) scale(1)","&$shrink":{transform:"translate(14px, 9px) scale(0.75)"}}},MuiInputAdornment:{root:{color:Rt.grey}},MuiTooltip:{tooltip:{maxWidth:355,backgroundColor:"#fff",color:"rgba(0, 0, 0, 0.94)",boxShadow:"0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12)",fontSize:12}},MuiButton:{root:{textTransform:"capitalize",fontSize:"0.9rem"},contained:{boxShadow:"none"},containedPrimary:{color:"#fff"},outlined:{borderWidth:"2px !important"},containedSizeLarge:{padding:"9px 34px"}},MuiTabs:{indicator:{backgroundColor:Rt.primaryLight,height:"4px"}},MuiTab:{root:{textTransform:"capitalize",fontSize:"1rem !important"},wrapper:{flexDirection:"row-reverse"}},MuiDialog:{paper:{textAlign:"center"}},MuiDialogContent:{root:{padding:"8px 45px"}},MuiDialogActions:{root:{justifyContent:"center",paddingBottom:"20px"}},MuiStepIcon:{root:{width:"2rem",height:"2rem",color:Rt.greyLight},text:{fontWeight:"bold",fill:Rt.grey}},MuiStepConnector:{alternativeLabel:{top:"15px"},lineHorizontal:{borderTopStyle:"dashed",borderTopWidth:"3px"}},MuiListItemIcon:{root:{minWidth:"48px"}},MuiSnackbarContent:{root:{boxShadow:"none"}},MuiStepLabel:{label:{fontWeight:"bold",fontSize:"1rem"},completed:{color:"".concat(Rt.grey," !important")}},Cell:{cell:{height:"80px",width:"50px",borderRight:"1px solid rgba(175, 181, 192, 0.2)",borderBottom:"1px solid rgba(175, 181, 192, 0.2)","&:focus":{backgroundColor:"transparent"},"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"},position:"relative"},dayOfWeek:{color:Rt.primaryLight,textTransform:"capitalize",fontSize:"1rem",letterSpacing:1},today:{marginTop:16,marginLeft:16,lineHeight:2.5,backgroundColor:"transparent",width:32,height:32},text:{width:32,height:32,marginTop:16,textAlign:"center",lineHeight:2.5,padding:0,paddingTop:0,marginLeft:16,marginRight:"auto",borderRadius:"50%"}}}})),It=function(e){var a=e.children;return r.a.createElement(Pt.a,{theme:At},a)},Tt=function(e){var a=e.children,t=e.autoHide,n=void 0===t?1e4:t;return r.a.createElement(S.a,{maxSnack:3,autoHideDuration:n,anchorOrigin:{vertical:"bottom",horizontal:"center"}},a)},Ft=V(),_t=function(e){var a=e.children,t=Object(n.useState)(Ft.authSession()),c=Object(k.a)(t,2),o=c[0],i=c[1],s=function(){var e=Object(x.a)(E.a.mark((function e(a,t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft.login(a,t);case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),l=function(){var e=Object(x.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft.registerProducer(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(B.Provider,{value:{registerProducer:l,authSession:Ft.authSession,session:o,login:s,logout:function(){Ft.logout(),i(void 0)}}},a)},zt=new i.a({defaultConfig:{queries:{staleTime:36e5}}}),Vt=function(){return r.a.createElement(It,null,r.a.createElement(_t,null,r.a.createElement(Tt,null,r.a.createElement(i.b,{queryCache:zt},r.a.createElement(St,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Vt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[520,1,2]]]);
//# sourceMappingURL=main.0b3799c9.chunk.js.map