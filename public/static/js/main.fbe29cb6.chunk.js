(this["webpackJsonpimage-package-manager"]=this["webpackJsonpimage-package-manager"]||[]).push([[0],{263:function(e,a){e.exports="data:image/png;base64,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"},473:function(e,a){function t(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=473},510:function(e,a,t){e.exports=t(731)},537:function(e,a,t){},560:function(e,a){},562:function(e,a){},729:function(e,a,t){},730:function(e,a,t){},731:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(20),o=t.n(c),i=t(26),s=function(e){return"getPackageById-".concat(e)},l=function(e){return"getPackagePostsById-".concat(e)},u={mp4:"video/mp4",png:"image/png",jpg:"image/jpg",jpeg:"image/jpeg"},m=function(e){var a=e.name.split(".")[1];return u[a.toLowerCase()]},d=[{name:"Topo esquerda",value:0},{name:"Topo direita",value:1},{name:"Centro",value:2},{name:"Baixo esquerda",value:3},{name:"Baixo Direita",value:4}],p=[{value:"0",label:"Consultora"},{value:"1",label:"Diretora"}],f=[{value:"0",label:"Instagram"},{value:"1",label:"Celular"}],g=t(40),b=t(29),h=t(9),v=t.n(h),E=t(17),O=t(19),x=t(21),j=t(329),k=t(755),y=t(111),w=t(408),C=t(409),N=t(250),S=function(){var e=Object(N.b)(),a=e.enqueueSnackbar,t=e.closeSnackbar;return{success:function(e,n){var r=a(e,Object(O.a)({variant:"success",onClick:function(){t(r)}},n))},warning:function(e,n){var r=a(e,Object(O.a)({variant:"warning",onClick:function(){t(r)}},n))},error:function(e,n){var r=a(e,Object(O.a)({variant:"error",onClick:function(){t(r)}},n))},info:function(e,n){var r=a(e,Object(O.a)({variant:"info",onClick:function(){t(r)}},n))}}},L=t(286),P=t.n(L),R=t(481),A=t.n(R),I=t(97),T=t.n(I),F={urlAPI:"".concat("https://app.artesup.com.br","/api"),authAPI:"".concat("https://app.artesup.com.br","/auth")},D=T.a.create({baseURL:F.authAPI,headers:{Accept:"application/json"}}),z=function(){var e=function(){P.a.remove("Token")};return{login:function(){var e=Object(E.a)(v.a.mark((function e(a){var t,n,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.email,n=a.password,e.next=3,D.post("/login",{email:t,password:n});case 3:return r=e.sent,c=r.data,o=c.token,P.a.set("Token",o),e.abrupt("return",c.token);case 7:case"end":return e.stop()}var o}),e)})));return function(a){return e.apply(this,arguments)}}(),logout:e,authSession:function(){var a=P.a.get("Token");return a&&function(e){try{var a=A()(e),t=Math.round(Date.now()/1e3);return a.exp>t}catch(n){return!1}}(a)?a:(e(),"")}}},V=z(),_=r.a.createContext({session:V.authSession(),authSession:V.authSession,login:function(){return console.error("AuthenticationProvider not configurated!"),Promise.resolve()},logout:function(){console.error("AuthenticationProvider not configurated!")}}),B=Object(j.a)({root:{minWidth:275},logo:{width:100,height:100,borderRadius:"50%"}}),M=function(){var e=B(),a=Object(n.useContext)(_),t=a.authSession,c=a.login,o=S(),i=Object(n.useState)(!1),s=Object(x.a)(i,2),l=s[0],u=s[1],m=Object(n.useState)({email:"",password:""}),d=Object(x.a)(m,2),p=d[0],f=d[1],b=Object(g.g)(),h=function(){var e=Object(E.a)(v.a.mark((function e(a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,u(!0),e.next=5,c(p);case 5:b.push("/packages"),o.success("Logado com sucesso!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),o.error("Erro ao fazer o login.");case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(a){return e.apply(this,arguments)}}();return t()?r.a.createElement(g.a,{to:"/packages"}):r.a.createElement("form",{className:"d-flex justify-content-center min-h-100 align-items-center ",noValidate:!0,onSubmit:h,autoComplete:"off"},r.a.createElement(k.a,{className:"".concat(e.root," d-flex flex-column justify-content-center align-items-center ")},r.a.createElement(y.a,{className:"mt-4",variant:"h4"},"Gerenciador"),r.a.createElement(y.a,{className:"mb-4",variant:"h4"},"de Imagem"),r.a.createElement(w.a,{onChange:function(e){var a=e.target.value;f((function(e){return Object(O.a)(Object(O.a)({},e),{},{email:a})}))},label:"E-mail",variant:"outlined"}),r.a.createElement(w.a,{onChange:function(e){var a=e.target.value;f((function(e){return Object(O.a)(Object(O.a)({},e),{},{password:a})}))},label:"Senha",className:"mt-3",type:"password",variant:"outlined"}),r.a.createElement(C.a,{disabled:l,type:"submit",color:"primary",className:"my-4",variant:"contained"},"Entrar")))},W=function(){return r.a.createElement(g.d,null,r.a.createElement(g.b,{path:"/login",component:M}))},G=t(120),H=t(263),Y=t.n(H),q=function(){var e=S(),a=Object(g.g)(),t=Object(n.useContext)(_).logout;return r.a.createElement("div",{className:"d-flex justify-content-between align-items-center header p-3",style:{color:"#fff",backgroundColor:"rgba(0,0,0, 1)"}},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("img",{src:Y.a}),r.a.createElement(y.a,{className:"ml-2",variant:"h5"},"Gerenciador de Pacotes")),r.a.createElement("nav",null,r.a.createElement(b.b,{className:"mr-4",to:"/purchases"},"Vendas"),r.a.createElement(b.b,{className:"mr-4",to:"/packages"},"Pacotes"),r.a.createElement(b.b,{className:"mr-4",to:"/categories"},"Categorias"),r.a.createElement(b.b,{to:"",onClick:function(){t(),a.push("/"),e.success("Logout feito com sucesso!")}},"Logout")))},J=function(e){var a=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"w-100"},a)))},Q=function(e){var a=e.component,t=Object(G.a)(e,["component"]),c=Object(n.useContext)(_).authSession;return r.a.createElement(g.b,Object.assign({},t,{render:function(e){return c()?r.a.createElement(J,null,r.a.createElement(a,e)):r.a.createElement(g.a,{to:"/login"})}}))},K=t(758),U=t(759),Z=(t(537),t(757));function X(e){var a=e.name,t=e.description,n=e.isPublished,c=e.onEdit,o=e.onRemove,i=e.onPublish;return r.a.createElement(k.a,{className:"h-100 package-card"},r.a.createElement(Z.a,{className:"h-100 d-flex flex-column justify-content-between"},r.a.createElement("div",null,r.a.createElement(y.a,{variant:"h6"},a),r.a.createElement(y.a,{className:"mt-2",variant:"body1"},t)),i&&n&&r.a.createElement(y.a,{variant:"body2",className:"font-italic mt-3"},"Publicado"),r.a.createElement(K.a,{container:!0,spacing:1,className:"mt-3"},i&&!n&&r.a.createElement(K.a,{item:!0,xs:12,sm:4,md:4,lg:4},r.a.createElement(C.a,{onClick:i,className:"w-100",variant:"contained",color:"primary"},"Publicar")),r.a.createElement(K.a,{item:!0,xs:12,sm:4,md:4,lg:4},r.a.createElement(C.a,{onClick:c,className:"w-100",variant:"contained",color:"secondary"},"Editar")),r.a.createElement(K.a,{item:!0,xs:12,sm:4,md:4,lg:4},r.a.createElement(C.a,{onClick:o,className:"red-button w-100",variant:"contained"},"Remover")))))}var $=t(410),ee=function(){return r.a.createElement(U.a,{className:"d-flex justify-content-center align-items-center h-500"},r.a.createElement($.a,{color:"primary"}))},ae=t(769);function te(){return r.a.createElement(U.a,{className:"d-flex flex-column justify-content-center align-items-center h-500"},r.a.createElement(y.a,{variant:"h4"},"Ocorreu um erro!"),r.a.createElement(y.a,{variant:"body1",className:"mt-4"},"Entre em contato com o suporte!"))}var ne=t(760),re=t(764),ce=t(762),oe=t(763),ie=t(761),se=Object(j.a)({button:{minWidth:100,maxWidth:"30%"}}),le=function(e){var a=e.title,t=e.question,c=e.open,o=e.onClose,i=e.loading,s=void 0!==i&&i,l=e.onConfirm,u=e.children,m=Object(G.a)(e,["title","question","open","onClose","loading","onConfirm","children"]),d=se(),p=Object(n.useState)(s),f=Object(x.a)(p,2),g=f[0],b=f[1];return r.a.createElement(ne.a,Object.assign({open:c,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},m),r.a.createElement(ie.a,{id:"alert-dialog-title"},a),r.a.createElement(ce.a,null,t&&r.a.createElement(oe.a,{id:"alert-dialog-description"},r.a.createElement(y.a,{variant:"body1"},t)),r.a.createElement(y.a,{variant:"h6"},u)),r.a.createElement(re.a,null,o&&r.a.createElement(C.a,{className:d.button,onClick:o,disabled:g,variant:"contained",color:"secondary"},"Cancelar"),r.a.createElement(C.a,{className:d.button,onClick:function(){b(!0),l()},variant:"contained",color:"primary",autoFocus:!0},g?r.a.createElement($.a,{size:24,color:"default"}):"Confirmar")))},ue=T.a.create({baseURL:F.urlAPI,headers:{Accept:"application/json"}});ue.interceptors.request.use((function(e){var a=z().authSession();return a&&(e.headers.authorization="Bearer ".concat(a)),e}),(function(e){Promise.reject(e)})),ue.interceptors.response.use((function(e){return e}),(function(e){return 403===e.response.status?Promise.reject(new Error("SESSION_EXPIRED")):Promise.reject(e)}));var me=ue,de=function(e){var a=e.id,t=e.name,n=e.description,r=e.posts;return me.post("/packages",{id:a,name:t,description:n,posts:r})},pe=function(e){var a=e.url,t=e.img;return T.a.put(a,t)},fe=function(e){var a=e.onSuccess,t=Object(i.c)((function(e){return function(e){return me.delete("/packages/".concat(e))}(e)})),c=Object(x.a)(t,1)[0],o=Object(i.f)(),s=Object(n.useState)(null),l=Object(x.a)(s,2),u=l[0],m=l[1],d=function(){return m(null)},p=S();return{askForRemovePackage:function(e){var t=function(){var t=Object(E.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c(e);case 3:p.success("Pacote removido com sucesso."),o.invalidateQueries("getPackages"),d(),a(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),p.error("Ocorreu um erro ao remover o pacote.");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();m(r.a.createElement(le,{title:"Remover pacote",question:"Deseja mesmo remover este pacote?",open:!0,onConfirm:t,onClose:d}))},dialog:u}},ge=function(e){var a=e.onSuccess,t=Object(i.c)((function(e){return function(e){return me.post("/packages/publish/".concat(e))}(e)})),c=Object(x.a)(t,1)[0],o=Object(n.useState)(null),s=Object(x.a)(o,2),l=s[0],u=s[1],m=Object(i.f)(),d=function(){return u(null)},p=S();return{askForPublishPackage:function(e){var t=function(){var t=Object(E.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c(e);case 3:p.success("Pacote publicado com sucesso"),m.invalidateQueries("getPackages"),d(),a(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),p.error("Ocorreu um erro ao publicar o pacote.");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();u(r.a.createElement(le,{title:"Publicar pacote",question:"Deseja mesmo publicar este pacote?",open:!0,onConfirm:t,onClose:d}))},dialog:l}},be=function(e){var a=e.page,t=void 0===a?1:a,n=e.limit,r=void 0===n?7:n;return me.get("/packages?page=".concat(t,"&limit=").concat(r))},he=function(){var e=Object(E.a)(v.a.mark((function e(a){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.id,e.abrupt("return",me.get("/packages/".concat(t)));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(E.a)(v.a.mark((function e(a){var t,n,r,c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.id,n=a.page,r=void 0===n?1:n,c=a.limit,o=void 0===c?7:c,e.abrupt("return",me.get("packages/".concat(t,"?page=").concat(r,"&limit=").concat(o)));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ee=function(e){return me.post("/packages/generate-urls",e)},Oe=function(){var e=Object(n.useState)(1),a=Object(x.a)(e,2),t=a[0],c=a[1],o=function(){return c(1)},s=Object(i.d)(["getPackages",t],(function(){return be({page:t})})),l=s.isLoading,u=s.error,m=s.resolvedData,d=fe({onSuccess:o}),p=d.askForRemovePackage,f=d.dialog,h=ge({onSuccess:o}),v=h.askForPublishPackage,E=h.dialog,O=Object(g.g)();if(l)return r.a.createElement(ee,null);if(u)return r.a.createElement(te,{errors:[u]});return r.a.createElement(U.a,null,r.a.createElement(y.a,{variant:"h6",className:"mt-4"},"Pacotes dispon\xedveis"),r.a.createElement(K.a,{className:"mt-1",container:!0,spacing:6},m.data.data.map((function(e){var a=e.id,t=e.name,n=e.description,c=e.is_published;return r.a.createElement(K.a,{key:a,item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(X,{name:t,description:n,isPublished:c,onEdit:function(){return O.push("/packages/".concat(a))},onRemove:function(){return p(a)},onPublish:function(){return v(a)}}))})),r.a.createElement(K.a,{item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(k.a,{className:"h-100 package-card"},r.a.createElement(b.b,{component:C.a,className:"w-100 h-100 font-weight-bold",to:"/packages/new"},"+")))),r.a.createElement(ae.a,{className:"mt-4 w-100 d-flex justify-content-center",count:m.data.pagination.totalPages,page:t,color:"primary",onChange:function(e,a){return c(a)}}),f,E)},xe=t(82),je=function(){var e=Object(E.a)(v.a.mark((function e(a){var t,n,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.page,n=void 0===t?1:t,r=a.limit,c=void 0===r?7:r,e.abrupt("return",me.get("/categories?page=".concat(n,"&limit=").concat(c)));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{onEmptyResult:function(){}},a=e.onEmptyResult,t=function(e){e.data.data.length<1&&a()},n=Object(i.e)("getAllCategories",(function(){return je({page:1,limit:1e7})}),{onSuccess:t}),r=n.isLoading,c=n.error,o=n.data;if(r||c)return{categoriesById:{},categories:[],isLoading:r,error:c};var s=o.data.data.reduce((function(e,a){return Object(O.a)(Object(O.a)({},e),{},Object(xe.a)({},a.id,a))}),{});return{categoriesById:s,categories:o.data.data,isLoading:r,error:c}},ye=180,we=180;function Ce(e,a,t){switch(t){case 0:return{coordinate_x:String(Math.floor(.05*e)),coordinate_y:String(Math.floor(.05*a))};case 1:return{coordinate_x:String(Math.floor(.98*e)-ye),coordinate_y:String(Math.floor(.05*a))};case 2:return{coordinate_x:String(Math.floor(.5*e)-ye/2),coordinate_y:String(Math.floor(.5*a)-we/2)};case 3:return{coordinate_x:String(Math.floor(.05*e)),coordinate_y:String(Math.floor(.98*a)-we)};case 4:return{coordinate_x:String(Math.floor(.98*e)-ye),coordinate_y:String(Math.floor(.98*a)-we)};default:return{coordinate_x:String(0),coordinate_y:String(0)}}}function Ne(e){return new Promise((function(a,t){var n=new Image;n.onload=function(){a({w:n.width,h:n.height})},n.onerror=function(e){t(e)},n.src=e}))}function Se(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(E.a)(v.a.mark((function e(a){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(a.url);case 2:return t=e.sent,a.dimmensions=t,a.coordinates=Ce(t.w,t.h,a.position.value),e.abrupt("return",{coordinates:a.coordinates});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pe=function(e){var a=e.progress,t=e.total,n=e.onClose;return r.a.createElement(le,{title:"Processando ...",question:"Aguarde! N\xe3o feche o navegador ...",open:!0,loading:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0,onClose:n,onConfirm:function(){}},"".concat(a," de ").concat(t))},Re=function(){var e=Object(n.useState)(null),a=Object(x.a)(e,2),t=a[0],c=a[1],o=S(),i=Object(g.g)(),s=function(){return c(null)},l=function(){var e=Object(E.a)(v.a.mark((function e(a){var t,n,o,i,l,u,d,p,f;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.images,e.prev=1,o=t.map((function(e){return{"Content-Type":m(e)}})),e.next=5,Ee(o);case 5:n=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),s();case 12:i=[],l=[],u=0;case 15:if(!(u<t.length)){e.next=35;break}return d=n.data.posts[u],e.next=19,Se(t[u]);case 19:return p=e.sent,f=p.coordinates,e.prev=21,c(r.a.createElement(Pe,{progress:u,total:t.length,onClose:s})),e.next=25,pe({url:d.uploadURL,img:t[u].file});case 25:i.push({id:d.id,package_id:n.data.id,category_id:t[u].category.id,name:t[u].file.name,aws_path:d.aws_path,is_customizable:!0,watermark_position:t[u].position.value,content_type:m(t[u].file),coordinate_x:f&&f.coordinate_x,coordinate_y:f&&f.coordinate_y}),e.next=32;break;case 28:e.prev=28,e.t1=e.catch(21),console.log(e.t1),l.push(t[u]);case 32:u+=1,e.next=15;break;case 35:return e.abrupt("return",{posts:i,uploadErrors:l,packageId:n.data.id});case 36:case"end":return e.stop()}}),e,null,[[1,8],[21,28]])})));return function(a){return e.apply(this,arguments)}}();function u(e){return d.apply(this,arguments)}function d(){return(d=Object(E.a)(v.a.mark((function e(a){var t,n,u,m,d,p,f,g;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.name,n=a.description,u=a.images,e.next=3,l({images:u});case 3:if(m=e.sent,d=m.packageId,p=m.posts,f=m.uploadErrors,!(p.length<1)){e.next=9;break}return e.abrupt("return",o.error("Ocorreu um erro ao salvar as imagens!"));case 9:return e.prev=9,e.next=12,de({id:d,name:t,description:n,posts:p});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(9),s(),e.abrupt("return",o.error("Ocorreu um erro ao finalizar a cria\xe7\xe3o!"));case 18:return g=function(){s(),i.push("/packages")},e.abrupt("return",c(r.a.createElement(le,{title:"Processamento conclu\xeddo",open:!0,onConfirm:g},f.length<1?r.a.createElement(y.a,null,"Suas imagens foram salvas com sucesso!"):r.a.createElement("div",null,r.a.createElement(y.a,{variant:"body1"},"Seu pacote foi criado!"),r.a.createElement(y.a,{className:"font-weight-bold mt-2",variant:"body1"},"Infelizmente, ocorreu um problema com as seguintes imagens:"),f.map((function(e){return r.a.createElement(y.a,{key:e.id,className:"mt-1",variant:"body2"},e.file.name)}))))));case 20:case"end":return e.stop()}}),e,null,[[9,14]])})))).apply(this,arguments)}return{askForSave:function(){var e=Object(E.a)(v.a.mark((function e(a){var t,n,o,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.name,n=a.description,o=a.images,i=function(){return u({name:t,description:n,images:o})},c(r.a.createElement(le,{title:"Adicionar pacote",question:"Voc\xea confirma as imagens adicionadas?",open:!0,onClose:s,onConfirm:i}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),dialog:t}},Ae=t(344),Ie=t(183),Te=t(412),Fe=t(476),De=t(330),ze=t(331),Ve=t(337),_e=t(411),Be=t(37),Me=t(68),We=function(){var e=Object(E.a)(v.a.mark((function e(a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(e){t(e)},n.readAsDataURL(a)})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function Ge(e){var a=e.field,t=e.className,n=e.form,c=n.touched,o=n.errors,i=Object(G.a)(e,["field","className","form"]);return r.a.createElement("div",null,r.a.createElement(w.a,Object.assign({},a,i,{error:Boolean(c[a.name]&&o[a.name]),helperText:c[a.name]&&o[a.name],className:"".concat(t," w-100")})))}var He=function(e,a){var t=e.name.toLowerCase(),n=a.name.toLowerCase();return t<n?-1:t>n?1:0},Ye={width:"20px",height:"20px",position:"absolute",paddingLeft:"5px",right:"-45px",top:"-7px",backgroundColor:"rgb(199, 199, 199)",borderRadius:"10px",cursor:"pointer"},qe={width:60};function Je(e){var a=e.id,t=e.url,n=e.name,c=e.position,o=e.category,i=e.handleCheckChange,s=e.checked,l=e.onRemove;return r.a.createElement("div",{className:"pos-relative"},r.a.createElement("div",{className:"d-flex pos-relative"},r.a.createElement("div",{className:"mt-4"},r.a.createElement(Fe.a,{checked:s,onChange:function(){return i(a)}})),r.a.createElement("div",{className:"pos-relative",style:qe},r.a.createElement("span",{onClick:function(){return l(a)},style:Ye},"\xd7"),r.a.createElement("img",{src:t,style:{width:100,height:100,border:"2px solid #c7c7c7"},alt:"for package"}))),r.a.createElement("div",{className:"pos-relative"},r.a.createElement(y.a,{variant:"body2",className:"mt-1"},"Nome: ",r.a.createElement("span",{className:"font-weight-bold"},n||"-")),r.a.createElement(y.a,{variant:"body2",className:"mt-1"},"Posi\xe7\xe3o:"," ",r.a.createElement("span",{className:"font-weight-bold"},c?c.name:"-")),r.a.createElement(y.a,{variant:"body2",className:"mt-1"},"Categoria:"," ",r.a.createElement("span",{className:"font-weight-bold"},o?o.name:"-"))))}var Qe=t(502);function Ke(e){var a=e.onDrop,t=Object(Qe.a)({onDropAccepted:a,accept:"image/jpeg, image/png"}),n=t.getRootProps,c=t.getInputProps;return r.a.createElement("div",Object.assign({className:"mt-4"},n()),r.a.createElement("input",c()),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{cursor:"pointer",border:"2px solid #c7c7c7",width:"100%",height:100}},r.a.createElement(y.a,{variant:"body2"},"Arraste suas imagens ou clique aqui ...")))}function Ue(e){var a=e.category,t=e.onChange,n=ke(),c=n.categories,o=n.isLoading,i=n.error;return o?null:i?r.a.createElement(y.a,{variant:"body2"},"N\xe3o foi poss\xedvel carregar as categorias."):r.a.createElement(De.a,{variant:"outlined",className:"w-100"},r.a.createElement(ze.a,{id:"category-select-label"},"Categoria"),r.a.createElement(Ve.a,{labelId:"category-select-label",id:"category-select",value:a,onChange:t},Object.values(c).map((function(e){var a=e.id,t=e.name;return r.a.createElement(_e.a,{key:a,value:a},t)}))))}var Ze=Me.a({id:Me.b(),name:Me.b().required("O campo \xe9 obrigat\xf3rio.").min(3,"O nome deve conter pelo menos 3 caracteres"),description:Me.b().min(3,"A descri\xe7\xe3o deve conter pelo menos 10 caracteres")}),Xe=0,$e=function(e){var a=e.packageById,t=void 0===a?{name:"",description:""}:a,c=e.posts,o=void 0===c?[]:c,i=e.categories,s=e.submit,l=o.reduce((function(e,a){return Object(O.a)(Object(O.a)({},e),{},Object(xe.a)({},a.id,{id:a.id,name:a.name,url:"".concat(a.aws_path),aws_path:a.aws_path,position:d[a.watermark_position],category:i[a.category_id],checked:!1}))}),{}),u=Object(n.useState)(l),m=Object(x.a)(u,2),p=m[0],f=m[1],g=r.a.useState(""),h=Object(x.a)(g,2),j=h[0],k=h[1],w=r.a.useState(""),N=Object(x.a)(w,2),L=N[0],P=N[1],R=S(),A=Object(n.useCallback)(function(){var e=Object(E.a)(v.a.mark((function e(a){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.values(p).length>99)){e.next=2;break}return e.abrupt("return",R.error("Voc\xea pode inserir apenas ".concat(100," imagens.")));case 2:return e.next=4,Promise.all(a.map(function(){var e=Object(E.a)(v.a.mark((function e(a){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Xe+=1,n={id:t,file:a},e.next=4,We(a);case 4:return r=e.sent,e.abrupt("return",Object(O.a)(Object(O.a)({},n),{},{url:r,name:a.name,position:d[0],category:Object.values(i)[0],checked:!1,isNew:!0}));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()));case 4:return t=e.sent,e.abrupt("return",f((function(e){return Object(O.a)(Object(O.a)({},e),Object.values(t).reduce((function(e,a){return Object(O.a)(Object(O.a)({},e),{},Object(xe.a)({},a.id,a))}),{}))})));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[p,R,i]),I=function(e){var a=p[e],t=Object(G.a)(p,[e].map(Ae.a));f(Object(O.a)(Object(O.a)({},t),{},Object(xe.a)({},e,Object(O.a)(Object(O.a)({},a),{},{isRemoved:!a.isNew||void 0}))))},T=function(e){var a=p[e],t=Object(G.a)(p,[e].map(Ae.a));f(Object(O.a)(Object(O.a)({},t),{},Object(xe.a)({},e,Object(O.a)(Object(O.a)({},a),{},{checked:!a.checked}))))},F=Object.values(p).filter((function(e){return!e.isRemoved})).sort(He),D=F.reduce((function(e,a){return e&&a.checked}),!0);return r.a.createElement(Ie.a,{className:"p-4 mt-4"},r.a.createElement(y.a,{className:"mb-4",variant:"h5"},"Novo Pacote de Imagens"),r.a.createElement(Be.c,{initialValues:t,validationSchema:Ze,onSubmit:function(e){return Object.values(p).some((function(e){var a=e.position,t=e.category;return!a||!t}))?R.error("Todas as imagens devem possuir categoria e posi\xe7\xe3o!"):s(Object(O.a)(Object(O.a)({},e),{},{images:Object.values(p)}))}},r.a.createElement(Be.b,null,r.a.createElement(Be.a,{name:"name",label:"Nome do pacote",component:Ge}),r.a.createElement(Be.a,{name:"description",label:"Descri\xe7\xe3o do pacote",className:"mt-4",component:Ge}),r.a.createElement(K.a,{container:!0,alignItems:"center",className:"mt-4"},r.a.createElement(K.a,{item:!0,xs:12,sm:6,md:2,lg:1},r.a.createElement(y.a,{variant:"h6"},"Imagens")),F.length>0&&r.a.createElement(K.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(Te.a,{control:r.a.createElement(Fe.a,{checked:D,onChange:function(){var e=Object.values(p).reduce((function(e,a){return Object(O.a)(Object(O.a)({},e),{},Object(xe.a)({},a.id,Object(O.a)(Object(O.a)({},a),{},{checked:!D})))}),{});f(e)},name:"checkedB",color:"primary"}),label:"Todos"}))),F.some((function(e){return e.checked}))&&r.a.createElement(K.a,{container:!0,spacing:2,className:"mt-1",alignItems:"center"},r.a.createElement(K.a,{item:!0,xs:12,sm:6,md:2,lg:2},r.a.createElement(De.a,{variant:"outlined",className:"w-100"},r.a.createElement(ze.a,{id:"position-select-label"},"Posi\xe7\xe3o"),r.a.createElement(Ve.a,{labelId:"position-select-label",id:"position-select",value:j,onChange:function(e){k(e.target.value)}},d.map((function(e){return r.a.createElement(_e.a,{key:e.value,value:e.value},e.name)}))))),r.a.createElement(K.a,{item:!0,xs:12,sm:6,md:2,lg:2},r.a.createElement(Ue,{category:L,onChange:function(e){P(e.target.value)}})),r.a.createElement(K.a,{item:!0,lg:2},r.a.createElement(C.a,{onClick:function(){var e=Object.values(p).reduce((function(e,a){return Object(O.a)(Object(O.a)({},e),{},Object(xe.a)({},a.id,Object(O.a)(Object(O.a)({},a),{},{checked:!1,isUpdated:a.isNew?void 0:a.isUpdated||a.checked,position:a.checked?d[j]:d[a.position.value],category:a.checked?i[L]:i[a.category.id]})))}),{});f(e)},color:"primary",variant:"contained"},"Aplicar"))),r.a.createElement(K.a,{container:!0,className:"mt-4",spacing:6},F.map((function(e){var a=e.id,t=e.name,n=e.url,c=e.position,o=e.category,i=e.checked;return r.a.createElement(K.a,{key:a,item:!0,lg:3,md:3,sm:3},r.a.createElement(Je,{id:a,name:t,url:n,position:c,category:o,checked:i,handleCheckChange:T,onRemove:I}))}))),r.a.createElement(Ke,{onDrop:A}),r.a.createElement("div",{className:"d-flex flex-row justify-content-end mt-4"},r.a.createElement(b.b,{variant:"contained",color:"secondary",component:C.a,to:"/packages"},"Cancelar"),r.a.createElement(C.a,{className:"ml-4",type:"submit",variant:"contained",color:"primary"},"Salvar")))))},ea=function(){var e=Re(),a=e.dialog,t=e.askForSave,n=S(),c=Object(g.g)(),o=ke({onEmptyResult:function(){n.error("Cadastre pelo menos um tipo de categoria, antes de criar um pacote."),c.push("/packages")}}),i=o.isLoading,s=o.error,l=o.categoriesById;return i?r.a.createElement(ee,null):s?r.a.createElement(te,{errors:[s]}):r.a.createElement(U.a,null,r.a.createElement($e,{categories:l,submit:t}),a)},aa=function(){var e=Object(n.useState)(null),a=Object(x.a)(e,2),t=a[0],c=a[1],o=S(),u=Object(g.g)(),d=function(){return c(null)},p=Object(i.f)();function f(e){return b.apply(this,arguments)}function b(){return(b=Object(E.a)(v.a.mark((function e(a){var t,n,i,f,g,b,h,E,O,x,j,k,y,w,C,N,S,L,P,R,A;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.id,n=a.name,i=a.description,f=a.images,b=[],!((h=f.filter((function(e){return e.isNew}))).length>0)){e.next=38;break}return e.prev=4,E=f.map((function(e){return{"Content-Type":m(e)}})),e.next=8,Ee(E);case 8:g=e.sent,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(4),console.error(e.t0),d(),e.abrupt("return",o.error("Ocorreu um erro ao iniciar a cria\xe7\xe3o!"));case 16:O=[],x=0;case 18:if(!(x<h.length)){e.next=38;break}return j=g.data.posts[x],e.prev=20,c(r.a.createElement(Pe,{progress:x,total:h.length,onClose:d})),e.next=24,pe({url:j.uploadURL,img:h[x].file});case 24:return e.next=26,Se(h[x]);case 26:k=e.sent,y=k.coordinates,b.push({id:j.id,package_id:t,category_id:h[x].category.id,watermark_position:h[x].position.value,name:h[x].name,aws_path:j.aws_path,content_type:m(h[x].file),is_customizable:!0,coordinate_x:y&&y.coordinate_x,coordinate_y:y&&y.coordinate_y}),e.next=35;break;case 31:e.prev=31,e.t1=e.catch(20),console.log(e.t1),O.push(h[x].file);case 35:x+=1,e.next=18;break;case 38:w=f.filter((function(e){return e.isUpdated})),C=0;case 40:if(!(C<w.length)){e.next=50;break}return N=w[C],e.next=44,Se(w[C]);case 44:S=e.sent,L=S.coordinates,b.push({id:N.id,package_id:t,category_id:N.category.id,watermark_position:f[C].position.value,name:N.name,aws_path:N.aws_path,content_type:m(f[C]),is_customizable:!0,coordinate_x:L&&L.coordinate_x,coordinate_y:L&&L.coordinate_y});case 47:C+=1,e.next=40;break;case 50:for(P=f.filter((function(e){return e.isRemoved})),R=0;R<P.length;R+=1)A=P[R],b.push({id:A.id,package_id:t,category_id:A.category.id,name:A.name,aws_path:A.aws_path,is_removed:1,content_type:m(f[R]),is_customizable:!0,coordinate_x:"0",coordinate_y:"0",watermark_position:0});return e.prev=52,e.next=55,de({id:t,name:n,description:i,posts:b});case 55:e.next=61;break;case 57:return e.prev=57,e.t2=e.catch(52),d(),e.abrupt("return",o.error("Ocorreu um erro ao finalizar a cria\xe7\xe3o!"));case 61:return p.invalidateQueries("getPackages"),p.invalidateQueries(s(t)),p.invalidateQueries(l(t)),d(),o.success("Pacote adicionado com sucesso!"),e.abrupt("return",u.push("/packages"));case 67:case"end":return e.stop()}}),e,null,[[4,11],[20,31],[52,57]])})))).apply(this,arguments)}return{askForSave:function(){var e=Object(E.a)(v.a.mark((function e(a){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){return f(a)},c(r.a.createElement(le,{title:"Atualizar pacote",question:"Voc\xea confirma essas altera\xe7\xf5es?",open:!0,onClose:d,onConfirm:t}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),dialog:t}},ta=function(){var e=aa(),a=e.dialog,t=e.askForSave,n=Object(g.h)(),c=Object(i.e)(l(n.id),(function(){return ve({id:n.id,page:1,limit:1e3})})),o=c.isLoading,u=c.error,m=c.data,d=ke(),p=d.categoriesById,f=d.isLoading,b=d.error,h=Object(i.e)(s(n.id),(function(){return he({id:n.id})})),v=h.isLoading,E=h.error,O=h.data;return v||o||f?r.a.createElement(ee,null):E||u||b?r.a.createElement(te,null):r.a.createElement(U.a,null,r.a.createElement($e,{packageById:{id:O.data.id,name:O.data.name,description:O.data.description},posts:m.data.posts,categories:p,submit:t}),a)},na=function(){return r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/packages/new",component:ea}),r.a.createElement(g.b,{exact:!0,path:"/packages/:id",component:ta}),r.a.createElement(g.b,{exact:!0,path:"/packages",component:Oe}),r.a.createElement(g.a,{from:"/",to:"/packages"}))},ra=Me.a({name:Me.b().required("O campo \xe9 obrigat\xf3rio."),description:Me.b().required("O campo \xe9 obrigat\xf3rio.")});function ca(e){var a=e.onCancel,t=e.onSubmit,n=e.initialValues,c=void 0===n?{name:"",description:""}:n;return r.a.createElement(Be.c,{initialValues:c,validationSchema:ra,onSubmit:t},r.a.createElement(Be.b,null,r.a.createElement(Be.a,{name:"name",label:"Nome do pacote",component:Ge}),r.a.createElement(Be.a,{name:"description",label:"Descri\xe7\xe3o do pacote",className:"mt-4",component:Ge}),r.a.createElement("div",{className:"d-flex flex-row justify-content-end mt-4"},r.a.createElement(C.a,{onClick:a,variant:"contained",color:"secondary"},"Cancelar"),r.a.createElement(C.a,{className:"ml-4",type:"submit",variant:"contained",color:"primary"},"Salvar"))))}function oa(e){var a=e.onClose,t=e.open,n=e.data,c=e.onSubmit;return r.a.createElement(ne.a,{open:t,onClose:a},r.a.createElement(k.a,null,r.a.createElement(Z.a,{className:"p-4"},r.a.createElement(y.a,{variant:"h6",className:"mb-4"},"Editar Categoria"),r.a.createElement(ca,{initialValues:n,onSubmit:c,onCancel:a}))))}var ia=function(e){var a=e.onSuccess,t=Object(i.c)((function(e){return function(e){var a=e.id,t=e.name,n=e.description;return me.put("/categories/".concat(a),{name:t,description:n})}(e)})),c=Object(x.a)(t,1)[0],o=Object(i.f)(),s=Object(n.useState)(null),l=Object(x.a)(s,2),u=l[0],m=l[1],d=function(){return m(null)},p=S(),f=function(){var e=Object(E.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(t);case 3:p.success("Categoria editada com sucesso."),o.invalidateQueries("getCategories"),a(),d(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),p.error("Ocorreu um erro ao editar a categoria.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}();return{askForEditCategory:function(e){m(r.a.createElement(oa,{open:!0,data:e,onSubmit:f,onClose:d}))},dialog:u}};function sa(e){var a=e.open,t=e.onSubmit,n=e.onClose;return r.a.createElement(ne.a,{open:a,onClose:n},r.a.createElement(k.a,null,r.a.createElement(Z.a,{className:"p-4"},r.a.createElement(y.a,{variant:"h6",className:"mb-4"},"Adicionar Categoria"),r.a.createElement(ca,{onSubmit:t,onCancel:n}))))}var la=function(e){var a=e.onSuccess,t=Object(i.c)((function(e){return a=e,me.post("/categories",a);var a})),c=Object(x.a)(t,1)[0],o=Object(i.f)(),s=Object(n.useState)(null),l=Object(x.a)(s,2),u=l[0],m=l[1],d=function(){return m(null)},p=S(),f=function(){var e=Object(E.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(t);case 3:p.success("Categoria criada com sucesso."),o.invalidateQueries("getCategories"),a(),d(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),p.error("Ocorreu um erro ao criar a categoria.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}();return{askForAddCategory:function(){m(r.a.createElement(sa,{open:!0,onSubmit:f,onClose:d}))},dialog:u}},ua=function(e){var a=e.onSuccess,t=Object(i.c)((function(e){return a=e,me.delete("/categories/".concat(a));var a})),c=Object(x.a)(t,1)[0],o=Object(i.f)(),s=Object(n.useState)(null),l=Object(x.a)(s,2),u=l[0],m=l[1],d=function(){return m(null)},p=S();return{askForRemoveCategory:function(e){var t=function(){var t=Object(E.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c(e);case 3:p.success("Categoria removida com sucesso."),o.invalidateQueries("getCategories"),a(),d(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),p.error("Ocorreu um erro ao remover a categoria.");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();m(r.a.createElement(le,{title:"Remover categoria",question:"Deseja mesmo remover esta categoria?",open:!0,onConfirm:t,onClose:d}))},dialog:u}},ma=function(){var e=Object(n.useState)(1),a=Object(x.a)(e,2),t=a[0],c=a[1],o=function(){return c(1)},s=Object(i.d)(["getCategories",t],(function(){return je({page:t})})),l=s.isLoading,u=s.error,m=s.resolvedData,d=ia({onSuccess:o}),p=d.dialog,f=d.askForEditCategory,g=ua({onSuccess:o}),b=g.dialog,h=g.askForRemoveCategory,v=la({onSuccess:o}),E=v.dialog,O=v.askForAddCategory;if(l)return r.a.createElement(ee,null);if(u)return r.a.createElement(te,{errors:[u]});return r.a.createElement(U.a,null,r.a.createElement(y.a,{variant:"h6",className:"mt-4"},"Categorias dispon\xedveis"),r.a.createElement(K.a,{className:"mt-1 mb-4",container:!0,spacing:6},m.data.data.map((function(e){var a=e.id,t=e.name,n=e.description;return r.a.createElement(K.a,{key:a,item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(X,{name:t,description:n,onEdit:function(){return f({id:a,name:t,description:n})},onRemove:function(){return h(a)}}))})),r.a.createElement(K.a,{item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(k.a,{className:"h-100 package-card"},r.a.createElement(C.a,{className:"w-100 h-100 font-weight-bold",onClick:O},"+")))),r.a.createElement(ae.a,{className:"mt-4 w-100 d-flex justify-content-center",count:m.data.pagination.totalPages,page:t,color:"primary",onChange:function(e,a){return c(a)}}),E,p,b)},da=function(){return r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/categories",component:ma}),r.a.createElement(g.a,{from:"/",to:"/categories"}))},pa=t(772),fa=t(741),ga=t(413),ba=t(771),ha=t(332);function va(e){var a=e.field,t=e.form,n=t.touched,c=t.errors,o=e.options,i=e.label,s=e.className;return r.a.createElement("div",{className:"mt-3"},r.a.createElement(De.a,{component:"fieldset",error:Boolean(n[a.name]&&c[a.name])},r.a.createElement(fa.a,{component:"legend"},i),r.a.createElement(ga.a,Object.assign({row:!0},a,{className:"w-100 ".concat(s||"")}),o.map((function(e){return r.a.createElement(Te.a,{key:e.value,value:e.value,control:r.a.createElement(ba.a,null),label:e.label})})),r.a.createElement(ha.a,null,n[a.name]&&c[a.name]))))}function Ea(e){var a=e.value,t=e.onChange,n=Object(i.d)(["getPackages",1],(function(){return be({limit:1e5})})),c=n.isLoading,o=n.error,s=n.resolvedData;if(c)return null;if(o)return r.a.createElement(y.a,{variant:"body2"},"N\xe3o foi poss\xedvel carregar os pacotes.");var l=s.data.data.map((function(e){return{value:e.id,label:e.name}}));return r.a.createElement(De.a,{variant:"outlined",className:"w-100"},r.a.createElement(ze.a,{id:"package-select-label"},"Pacote"),r.a.createElement(Ve.a,{labelId:"package-select-label",id:"package-select",onChange:t,value:a,name:"packageId"},l.map((function(e){var a=e.value,t=e.label;return r.a.createElement(_e.a,{key:a,id:a,value:a},t)}))))}var Oa=t(76),xa=t.n(Oa);var ja={0:"CONSULTORA",1:"DIRETORA"};var ka=function(e){return console.log("###### renderOneLine","lato-italic-24"),function(e){var a=e.customName,t=e.role,n=e.instagram,r=e.phone,c=e.contact,o=e.customLastName,i=e.fontSize,s=void 0===i?20:i,l="0"===c?n:r;return xa.a.read("https://gmreis.github.io/watermark-browser/dist/img/unnamed.png").then(function(){var e=Object(E.a)(v.a.mark((function e(n){var r,c,i,u,m,d,p,f,g,b,h,E,O,x;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa.a.loadFont("https://gmreis.github.io/watermark-browser/dist/fonts/lato-italic/lato-italic-bold-".concat(s,".fnt"));case 2:return r=e.sent,e.next=5,xa.a.loadFont("https://gmreis.github.io/watermark-browser/dist/fonts/lato-italic/lato-italic-12.fnt");case 5:return c=e.sent,i={text:ja[t],alignmentX:xa.a.HORIZONTAL_ALIGN_CENTER,alignmentY:xa.a.VERTICAL_ALIGN_MIDDLE},u={text:"MARY KAY",alignmentX:xa.a.HORIZONTAL_ALIGN_CENTER,alignmentY:xa.a.VERTICAL_ALIGN_MIDDLE},m={text:l,alignmentX:xa.a.HORIZONTAL_ALIGN_CENTER,alignmentY:xa.a.VERTICAL_ALIGN_MIDDLE},d={text:a,alignmentX:xa.a.HORIZONTAL_ALIGN_CENTER,alignmentY:xa.a.VERTICAL_ALIGN_BOTTOM},p={text:o,alignmentX:xa.a.HORIZONTAL_ALIGN_CENTER,alignmentY:xa.a.VERTICAL_ALIGN_BOTTOM},e.next=13,n.print(c,0,30,i,180,0);case 13:return f=e.sent,e.next=16,f.print(c,0,40,u,180,0);case 16:return g=e.sent,e.next=19,g.print(c,0,138,m,180,0);case 19:return b=e.sent,h=xa.a.measureTextHeight(r,o),e.next=23,b.print(r,20,95,d,140,0);case 23:return E=e.sent,e.next=26,E.print(r,20,90,p,140,.98*h);case 26:return O=e.sent,e.next=29,O.getBase64Async("image/png");case 29:return x=e.sent,e.abrupt("return",x);case 31:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)}))}(e)};var ya=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=a.split(",")[0].indexOf("base64")>=0?atob(a.split(",")[1]):unescape(a.split(",")[1]);for(var t=a.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(e.length),r=0;r<e.length;r+=1)n[r]=e.charCodeAt(r);return new Blob([n],{type:t})},wa=T.a.create({headers:{Accept:"application/json"}});function Ca(){return(Ca=Object(E.a)(v.a.mark((function e(a,t){var n,r,c,o,i,s,l,u,m,d,p;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.email,r=a.name&&a.name.trim(),c=a.phone.trim(),e.next=5,me.get("/customers/?email=".concat(n));case 5:if(i=e.sent,s=i.data){e.next=11;break}return e.next=10,me.post("/customers",{email:n,custom_name:r,name:r,custom_phone:c,rank:a.role});case 10:o=e.sent;case 11:return e.next=13,me.get("/purchases/generate-logo-url");case 13:return l=e.sent,u=l.data,m=(u=void 0===u?{}:u).id,d=u.aws_logo_path,p=u.uploadURL,e.next=19,wa.put(p,ya(t));case 19:return e.next=21,me.post("/purchases",{id:m,aws_logo_path:d,package_id:a.packageId,customer_id:s&&s.id||o.data.id,custom_name:r,custom_phone:c,rank:a.role,custom_image_stamp:a.contact,custom_social_media:a.instagram,is_paid:1});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Na=function(e,a){return Ca.apply(this,arguments)},Sa=Me.a({name:Me.b().required("O campo \xe9 obrigat\xf3rio."),email:Me.b().email("O e-mail deve ser v\xe1lido.").required("O campo \xe9 obrigat\xf3rio."),role:Me.b().required("O campo \xe9 obrigat\xf3rio."),instagram:Me.b().required("O campo \xe9 obrigat\xf3rio."),phone:Me.b().required("O campo \xe9 obrigat\xf3rio.")}),La={name:"",lastName:"",role:"0",contact:"0",instagram:"",phone:"",packageId:"",customName:"",customLastName:"",fontSize:20},Pa=function(){var e=S(),a=Object(g.g)(),t=Object(n.useState)(""),c=Object(x.a)(t,2),o=c[0],i=c[1];Object(n.useEffect)((function(){function e(){return(e=Object(E.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka(La);case 2:a=e.sent,i(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=function(){var t=Object(E.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Na(n,o);case 3:e.success("Venda criada com sucesso!"),a.push("/purchases"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.error("Ocorreu um erro ao criar uma venda.");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(U.a,{className:"d-flex justify-content-center align-items-center"},r.a.createElement(Ie.a,{className:"p-4 mt-4 w-100"},r.a.createElement(Be.c,{initialValues:La,validationSchema:Sa,onSubmit:s},(function(e){var a=e.values,t=e.handleChange,n=function(){var e=Object(E.a)(v.a.mark((function e(n,r){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(n),e.next=3,ka(Object(O.a)(Object(O.a)({},a),{},{fontSize:r}));case 3:return c=e.sent,e.abrupt("return",i(c));case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),c=function(){var e=Object(E.a)(v.a.mark((function e(n){var r,c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.target,c=r.name,t(n),e.next=5,ka(Object(O.a)(Object(O.a)({},a),{},Object(xe.a)({},c,r.value)));case 5:return o=e.sent,e.abrupt("return",i(o));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(Be.b,null,r.a.createElement(y.a,{variant:"h5",className:"mb-4 text-center"},"Nova venda"),r.a.createElement(K.a,{container:!0,spacing:2,className:"w-100"},r.a.createElement(K.a,{item:!0,xs:12,sm:12,md:6,lg:6},r.a.createElement("div",{className:"d-flex justify-content-center mt-4"},r.a.createElement("img",{src:o,alt:"stamp",style:{width:"50%",minHeight:"60%",borderRadius:"2px"}}))),r.a.createElement(K.a,{item:!0,sm:12,md:6,lg:6},r.a.createElement(K.a,{container:!0,spacing:2,className:"mt-2"},r.a.createElement(K.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(Be.a,{name:"role",label:"Cargo",component:va,onChange:c,options:p})),r.a.createElement(K.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(Be.a,{name:"contact",label:"Contato",component:va,onChange:c,options:f}))),r.a.createElement(K.a,{container:!0,spacing:2,className:"mt-2"},r.a.createElement(K.a,{item:!0,xs:12},r.a.createElement(Be.a,{name:"name",label:"Nome",component:Ge,onChange:c}))),r.a.createElement(K.a,{container:!0,spacing:2,className:"mt-2"},r.a.createElement(K.a,{item:!0,xs:12,sm:6},r.a.createElement(Be.a,{name:"customName",label:"Primeiro Nome",component:Ge,onChange:c})),r.a.createElement(K.a,{item:!0,xs:12,sm:6},r.a.createElement(Be.a,{name:"customLastName",label:"Ultimo Nome",component:Ge,onChange:c}))),r.a.createElement(K.a,{container:!0,spacing:2,className:"mt-2"},r.a.createElement(K.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(Be.a,{name:"email",label:"E-mail",component:Ge,onChange:c})),r.a.createElement(K.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(Be.a,{name:"packageId",label:"Pacote"},(function(e){var a=e.field.value;return r.a.createElement(Ea,{value:a,onChange:t})})))),r.a.createElement(K.a,{container:!0,spacing:2,className:"mt-2"},r.a.createElement(K.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(Be.a,{name:"instagram",label:"Instagram",onChange:c,component:Ge})),r.a.createElement(K.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(Be.a,{name:"phone",label:"Celular",onChange:c,component:Ge}))),r.a.createElement(K.a,{item:!0,xs:12},r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a,{id:"package-select-label"},"Tamanho da fonte"),r.a.createElement(Be.a,{name:"fontSize",label:"Tamanho de fonte"},(function(e){e.field.value;return r.a.createElement(pa.a,{defaultValue:20,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,onChange:n,marks:!0,min:8,max:40})})))),r.a.createElement("div",{className:"d-flex justify-content-end mt-4"},r.a.createElement(C.a,{type:"submit",variant:"contained",color:"primary"},"Salvar")))))}))))},Ra=function(){return r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/post-purchase",component:Pa}),r.a.createElement(g.a,{from:"/",to:"/post-purchase"}))},Aa=t(335),Ia=t.n(Aa),Ta="loading",Fa="done",Da="error";var za=t(489),Va=t.n(za),_a=t(499),Ba=t.n(_a),Ma=t(490),Wa=t.n(Ma),Ga=t(497),Ha=t.n(Ga),Ya=t(343),qa=t.n(Ya),Ja=t(342),Qa=t.n(Ja),Ka=t(491),Ua=t.n(Ka),Za=t(492),Xa=t.n(Za),$a=t(494),et=t.n($a),at=t(495),tt=t.n(at),nt=t(496),rt=t.n(nt),ct=t(500),ot=t.n(ct),it=t(493),st=t.n(it),lt=t(498),ut=t.n(lt),mt=t(501),dt=t.n(mt),pt={Add:Object(n.forwardRef)((function(e,a){return r.a.createElement(Va.a,Object.assign({},e,{ref:a}))})),Check:Object(n.forwardRef)((function(e,a){return r.a.createElement(Wa.a,Object.assign({},e,{ref:a}))})),Clear:Object(n.forwardRef)((function(e,a){return r.a.createElement(Qa.a,Object.assign({},e,{ref:a}))})),Delete:Object(n.forwardRef)((function(e,a){return r.a.createElement(Ua.a,Object.assign({},e,{ref:a}))})),DetailPanel:Object(n.forwardRef)((function(e,a){return r.a.createElement(qa.a,Object.assign({},e,{ref:a}))})),Edit:Object(n.forwardRef)((function(e,a){return r.a.createElement(Xa.a,Object.assign({},e,{ref:a}))})),Export:Object(n.forwardRef)((function(e,a){return r.a.createElement(st.a,Object.assign({},e,{ref:a}))})),Filter:Object(n.forwardRef)((function(e,a){return r.a.createElement(et.a,Object.assign({},e,{ref:a}))})),FirstPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(tt.a,Object.assign({},e,{ref:a}))})),LastPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(rt.a,Object.assign({},e,{ref:a}))})),NextPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(qa.a,Object.assign({},e,{ref:a}))})),PreviousPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(Ha.a,Object.assign({},e,{ref:a}))})),ResetSearch:Object(n.forwardRef)((function(e,a){return r.a.createElement(Qa.a,Object.assign({},e,{ref:a}))})),Search:Object(n.forwardRef)((function(e,a){return r.a.createElement(ut.a,Object.assign({},e,{ref:a}))})),SortArrow:Object(n.forwardRef)((function(e,a){return r.a.createElement(Ba.a,Object.assign({},e,{ref:a}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,a){return r.a.createElement(ot.a,Object.assign({},e,{ref:a}))})),ViewColumn:Object(n.forwardRef)((function(e,a){return r.a.createElement(dt.a,Object.assign({},e,{ref:a}))}))},ft=function(){var e=function(){var e=Object(n.useState)([]),a=Object(x.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(Ta),o=Object(x.a)(c,2),i=o[0],s=o[1],l=function(){var e=Object(E.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(Ta),e.next=4,me.get("/purchases");case 4:a=e.sent,console.log(a.data.data,"daqui"),r(a.data.data),s(Fa),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s(Da);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l()}),[]),{process:i,purchases:t,refetch:function(){return l()}}}().purchases;return r.a.createElement(U.a,{className:"mt-4"},r.a.createElement(Ia.a,{icons:pt,columns:[{title:"Cliente",field:"name",render:function(e){return r.a.createElement(y.a,{variant:"body1"},e.name)}},{title:"Data",field:"date",render:function(e){return r.a.createElement(y.a,{variant:"body1"},e.date)}},{title:"Galeria",field:"galleryLink",render:function(e){return r.a.createElement(b.b,{to:"/gallery/".concat(e.edit)},"Link")}},{title:"Status",field:"status",render:function(e){return r.a.createElement(y.a,{variant:"body1"},e.status)}}],data:e.map((function(e){var a=new Date(e.created_at).toLocaleDateString("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit"});return{name:e.custom_name,date:a,edit:e.id,delete:e.id,gallery:e.id,status:e.watermark_status}})),title:"\xdaltimas vendas"}),r.a.createElement("div",{className:"d-flex justify-content-end mt-4"},r.a.createElement(b.b,{component:C.a,to:"/purchases/new"},"Nova Venda")))},gt=function(){return r.a.createElement(U.a,null,r.a.createElement(Pa,null))},bt=function(){return r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/purchases",component:ft}),r.a.createElement(g.b,{exact:!0,path:"/purchases/new",component:gt}),r.a.createElement(g.a,{from:"/",to:"/packages"}))},ht=function(){S(),Object(g.g)(),Object(n.useContext)(_).logout;return r.a.createElement("div",{style:{color:"#fff",backgroundColor:"rgba(0,0,0, 1)"},className:"d-flex justify-content-between align-items-center header p-3"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("img",{src:Y.a}),r.a.createElement(y.a,{className:"ml-2",variant:"h5"},"Voc\xea est\xe1 pronta para aumentar suas vendas?")))};t(729);function vt(e){var a=e.url,t=e.children;return r.a.createElement("a",{className:"custom-anchor",href:a},t)}var Et=T.a.create({baseURL:F.urlAPI,headers:{Accept:"application/json"}}),Ot=function(){var e,a=Object(g.h)(),t=Object(i.e)((e=a.purchaseId,"getPurchaseById-".concat(e)),(function(){return function(e){var a=e.purchaseId;return Et.get("/purchases/gallery/".concat(a))}({purchaseId:a.purchaseId})})),n=t.isLoading,c=t.error,o=t.data;if(!a.purchaseId)return r.a.createElement(U.a,{className:"d-flex align-items-center h-500"},r.a.createElement(y.a,{variant:"body1"},"Voc\xea deve fornecer uma compra v\xe1lida."));if(n)return r.a.createElement(ee,null);if(c)return r.a.createElement(te,null);var s=o.data.postsByCategory;return Object.values(s).length<1?r.a.createElement(U.a,{className:"d-flex justify-content-center align-items-center h-500"},r.a.createElement(y.a,{variant:"body1"},"Nenhum post foi encontrado nesta compra.")):r.a.createElement(U.a,null,Object.values(s).map((function(e){var a=e.category,t=e.posts;return r.a.createElement(k.a,{key:a,className:"h-100 mt-4 w-100"},r.a.createElement(Z.a,null,r.a.createElement(y.a,{variant:"h5",className:"mb-4"},a.name),r.a.createElement(K.a,{className:"mt-1",container:!0},t.map((function(e){var a=e.id,t=e.aws_path,n=e.aws_path_thumb;return r.a.createElement(K.a,{key:a,item:!0,xs:12,sm:6,md:4,lg:2},r.a.createElement("div",{className:"w-100 d-flex flex-column align-items-center"},r.a.createElement(vt,{url:t},r.a.createElement("img",{src:n,style:{width:"100%",minHeight:"100%",borderRadius:"2px"},alt:"Post"}))))})))))})))},xt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ht,null),r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/gallery/:purchaseId",component:Ot}),r.a.createElement(g.a,{from:"/",to:"/notfound"})))},jt=function(){return r.a.createElement(g.d,null,r.a.createElement(g.b,{path:"/packages",component:na}),r.a.createElement(g.b,{path:"/categories",component:da}),r.a.createElement(g.b,{path:"/post-purchase",component:Ra}),r.a.createElement(g.b,{path:"/purchases",component:bt}),r.a.createElement(g.a,{from:"/",to:"/packages"}))},kt=function(){return r.a.createElement(b.a,null,r.a.createElement(g.d,null,r.a.createElement(g.b,{path:"/login",component:W}),r.a.createElement(g.b,{path:"/gallery",component:xt}),r.a.createElement(Q,{path:"/",component:jt})))},yt=t(160),wt=t(766),Ct={text:"#484f5b",primary:"#173f5f",primaryLight:"#09EE6F",primaryDark:"#1C7945",secondary:"#364FB7",secondaryLight:"#1fe2e2",secondaryDark:"#2D4299",success:"#6DD400",successLight:"#e7fad1",warning:"#FFC421",warningLight:"#fff3d6",error:"#F00A3F",errorLight:"#fdecec",info:"#146DE1",background:"#f9fafb",grey:"#afb5c0",greyLight:"#e2e5e9",white:"#fff",greyLightest:"#F9FAFB"},Nt=(t(730),Object(yt.a)({typography:{fontSize:16,h1:{fontFamily:'"Lato", "Roboto", sans-serif',fontSize:"4.5rem",fontWeight:"bold"},h2:{fontFamily:'"Lato", "Roboto", sans-serif',fontSize:"3.5rem",fontWeight:"bold"},h3:{fontFamily:'"Lato", "Roboto", sans-serif',fontWeight:"bold"},h4:{fontFamily:'"Lato", "Roboto", sans-serif',fontSize:"2rem",fontWeight:"bold"},h5:{fontFamily:'"Lato", "Roboto", sans-serif',fontSize:"1.5rem",fontWeight:"bold"},h6:{fontFamily:'"Lato", "Roboto", sans-serif',fontSize:"1.25rem",fontWeight:"bold"},overline:{lineHeight:"initial",fontSize:"0.75rem",color:Ct.grey},caption:{fontSize:"0.75rem"},body1:{fontSize:"1rem"},body2:{fontSize:"0.875rem"},subtitle1:{fontSize:"0.875rem"},subtitle2:{fontSize:"0.875rem"}},palette:{background:{default:Ct.background},action:{disabled:Ct.greyLight,disabledBackground:Ct.greyLight},divider:Ct.greyLightest,text:{primary:Ct.text,secondary:Ct.grey,disabled:Ct.greyLight},primary:{main:Ct.primary},secondary:{main:Ct.secondary},error:{main:Ct.error},info:{main:Ct.info},warning:{main:Ct.warning},success:{main:Ct.success},grey:{300:Ct.grey,400:Ct.greyLight}},props:{MuiTextField:{variant:"outlined"}},overrides:{MuiBackdrop:{root:{backgroundColor:"rgba(72, 79, 91, 0.9)"}},MuiPaper:{elevation1:{boxShadow:"0 5px 16px 0 rgba(175, 181, 192, 0.2)"},rounded:{borderRadius:8}},MuiLinearProgress:{colorPrimary:{backgroundColor:Ct.grey}},MuiInputBase:{root:{fontSize:"1rem"}},MuiFilledInput:{root:{backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"}}},MuiOutlinedInput:{root:{borderRadius:8},input:{padding:"27px 14px 10px"},multiline:{padding:"27px 14px 10px"},notchedOutline:{top:0}},MuiInputLabel:{outlined:{transform:"translate(14px, 19px) scale(1)","&$shrink":{transform:"translate(14px, 9px) scale(0.75)"}}},MuiInputAdornment:{root:{color:Ct.grey}},MuiTooltip:{tooltip:{maxWidth:355,backgroundColor:"#fff",color:"rgba(0, 0, 0, 0.94)",boxShadow:"0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12)",fontSize:12}},MuiButton:{root:{textTransform:"capitalize",fontSize:"0.9rem"},contained:{boxShadow:"none"},containedPrimary:{color:"#fff"},outlined:{borderWidth:"2px !important"},containedSizeLarge:{padding:"9px 34px"}},MuiTabs:{indicator:{backgroundColor:Ct.primaryLight,height:"4px"}},MuiTab:{root:{textTransform:"capitalize",fontSize:"1rem !important"},wrapper:{flexDirection:"row-reverse"}},MuiDialog:{paper:{textAlign:"center"}},MuiDialogContent:{root:{padding:"8px 45px"}},MuiDialogActions:{root:{justifyContent:"center",paddingBottom:"20px"}},MuiStepIcon:{root:{width:"2rem",height:"2rem",color:Ct.greyLight},text:{fontWeight:"bold",fill:Ct.grey}},MuiStepConnector:{alternativeLabel:{top:"15px"},lineHorizontal:{borderTopStyle:"dashed",borderTopWidth:"3px"}},MuiListItemIcon:{root:{minWidth:"48px"}},MuiSnackbarContent:{root:{boxShadow:"none"}},MuiStepLabel:{label:{fontWeight:"bold",fontSize:"1rem"},completed:{color:"".concat(Ct.grey," !important")}},Cell:{cell:{height:"80px",width:"50px",borderRight:"1px solid rgba(175, 181, 192, 0.2)",borderBottom:"1px solid rgba(175, 181, 192, 0.2)","&:focus":{backgroundColor:"transparent"},"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"},position:"relative"},dayOfWeek:{color:Ct.primaryLight,textTransform:"capitalize",fontSize:"1rem",letterSpacing:1},today:{marginTop:16,marginLeft:16,lineHeight:2.5,backgroundColor:"transparent",width:32,height:32},text:{width:32,height:32,marginTop:16,textAlign:"center",lineHeight:2.5,padding:0,paddingTop:0,marginLeft:16,marginRight:"auto",borderRadius:"50%"}}}})),St=function(e){var a=e.children;return r.a.createElement(wt.a,{theme:Nt},a)},Lt=function(e){var a=e.children,t=e.autoHide,n=void 0===t?1e4:t;return r.a.createElement(N.a,{maxSnack:3,autoHideDuration:n,anchorOrigin:{vertical:"bottom",horizontal:"center"}},a)},Pt=z(),Rt=function(e){var a=e.children,t=Object(n.useState)(Pt.authSession()),c=Object(x.a)(t,2),o=c[0],i=c[1],s=function(){var e=Object(E.a)(v.a.mark((function e(a,t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt.login(a,t);case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),l=function(){var e=Object(E.a)(v.a.mark((function e(a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt.registerProducer(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(_.Provider,{value:{registerProducer:l,authSession:Pt.authSession,session:o,login:s,logout:function(){Pt.logout(),i(void 0)}}},a)},At=new i.a({defaultConfig:{queries:{staleTime:36e5}}}),It=function(){return r.a.createElement(St,null,r.a.createElement(Rt,null,r.a.createElement(Lt,null,r.a.createElement(i.b,{queryCache:At},r.a.createElement(kt,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(It,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[510,1,2]]]);
//# sourceMappingURL=main.fbe29cb6.chunk.js.map